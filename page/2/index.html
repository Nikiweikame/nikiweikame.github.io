<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Nikiçš„Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="å€‹äººè©¦åšçš„éƒ¨è½æ ¼">
<meta property="og:type" content="website">
<meta property="og:title" content="Nikiçš„Blog">
<meta property="og:url" content="https://nikiweikame.github.io/page/2/index.html">
<meta property="og:site_name" content="Nikiçš„Blog">
<meta property="og:description" content="å€‹äººè©¦åšçš„éƒ¨è½æ ¼">
<meta property="og:locale">
<meta property="article:author" content="Niki_wei">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Nikiçš„Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Nikiçš„Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ç´€éŒ„äº†Nikiæˆé•·çš„é»é»æ»´æ»´</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nikiweikame.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/22/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part11/" class="article-date">
  <time class="dt-published" datetime="2025-09-22T07:08:53.000Z" itemprop="datePublished">2025-09-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/22/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part11/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part11</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="login-ç™»å…¥ç¨‹åºçš„é¸æ“‡"><a href="#login-ç™»å…¥ç¨‹åºçš„é¸æ“‡" class="headerlink" title="login ç™»å…¥ç¨‹åºçš„é¸æ“‡"></a>login ç™»å…¥ç¨‹åºçš„é¸æ“‡</h1><p>å¸¸è¦‹çš„ç™»å…¥é©—è­‰ä¸­æˆ‘é¸æ“‡ä½¿ç”¨Token-Based Authenticationï¼ˆJWT ç‚ºä¸»æµï¼‰</p>
<ul>
<li>æµç¨‹</li>
</ul>
<p>ä½¿ç”¨è€…è¼¸å…¥å¸³å¯† â†’ å¾Œç«¯ç°½ç™¼ JWT<br>å‰ç«¯å„²å­˜åœ¨ localStorage &#x2F; Cookie<br>å¾ŒçºŒè«‹æ±‚åœ¨ Authorization: Bearer <token> å‚³çµ¦å¾Œç«¯<br>å¾Œç«¯é©—è­‰ç°½åèˆ‡æœ‰æ•ˆæœŸå³å¯</p>
<ul>
<li>å„ªé»</li>
</ul>
<p>ç„¡ç‹€æ…‹ï¼ˆStatelessï¼‰ï¼Œé©åˆ APIã€å¾®æœå‹™<br>è·¨å¹³å°ï¼ˆWebã€iOSã€Android éƒ½èƒ½ç”¨ï¼‰</p>
<ul>
<li>ç¼ºé»</li>
</ul>
<p>Token æ´©æ¼å³é­æ¿«ç”¨ï¼ˆéœ€æ­é… HTTPSã€éæœŸæ©Ÿåˆ¶ï¼‰<br>Token ç„¡æ³•è¼•æ˜“è¨»éŠ·ï¼ˆéœ€é¡å¤–é»‘åå–®æ©Ÿåˆ¶ï¼‰</p>
<h2 id="å®‰è£å¥—ä»¶"><a href="#å®‰è£å¥—ä»¶" class="headerlink" title="å®‰è£å¥—ä»¶"></a>å®‰è£å¥—ä»¶</h2><p>ç”¨ tymon&#x2F;jwt-authï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require tymon/jwt-auth</span><br></pre></td></tr></table></figure>
<p>å®‰è£å®Œæˆå¾Œï¼Œç™¼ä½ˆè¨­å®šæª”ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan vendor:publish --provider=&quot;Tymon\JWTAuth\Providers\LaravelServiceProvider&quot;</span><br></pre></td></tr></table></figure>
<p>é€™æœƒåœ¨ config&#x2F;jwt.php ç”Ÿæˆè¨­å®šæª”ã€‚</p>
<p>æ¥è‘—ç”Ÿæˆ JWT ç§˜é‘°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan jwt:secret</span><br></pre></td></tr></table></figure>
<p>é€™æœƒåœ¨ .env åŠ å…¥ä¸€è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JWT_SECRET=éš¨æ©Ÿå­—ä¸²</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹-User-Model"><a href="#ä¿®æ”¹-User-Model" class="headerlink" title="ä¿®æ”¹ User Model"></a>ä¿®æ”¹ User Model</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">// use Illuminate\Contracts\Auth\MustVerifyEmail;</span><br><span class="line">// èªè­‰ç›¸é—œçš„åŸºåº•é¡</span><br><span class="line">use Illuminate\Foundation\Auth\User as Authenticatable;</span><br><span class="line">// é€šçŸ¥ç›¸é—œ</span><br><span class="line">use Illuminate\Notifications\Notifiable;</span><br><span class="line">// å‡è³‡æ–™å·¥å» </span><br><span class="line">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br><span class="line">// åŠ ä¸ŠJWT ç›¸é—œä»‹é¢</span><br><span class="line">use Tymon\JWTAuth\Contracts\JWTSubject;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class User extends Authenticatable implements JWTSubject //å¾Œé¢åŠ ä¸Š implements JWTSubject</span><br><span class="line">&#123;</span><br><span class="line">    // åŠ ä¸ŠJWTSubject éœ€è¦å¯¦ä½œå…©å€‹æ–¹æ³•</span><br><span class="line">    public function getJWTIdentifier()</span><br><span class="line">    &#123;</span><br><span class="line">        return $this-&gt;getKey(); // é€šå¸¸æ˜¯ id</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function getJWTCustomClaims()</span><br><span class="line">    &#123;</span><br><span class="line">        return [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ModelåŸæœ¬æœ‰çš„å…§å®¹ä¾èˆŠä¿ç•™ï¼Œåªæ˜¯å¢åŠ ä¸€äº›å¯¦ä½œJWTéœ€è¦çš„æ–¹æ³•</p>
<h2 id="å»ºç«‹-AuthController"><a href="#å»ºç«‹-AuthController" class="headerlink" title="å»ºç«‹ AuthController"></a>å»ºç«‹ AuthController</h2><p>æˆ‘æŠŠuserçš„å¯†ç¢¼æ¬„ä½åç¨±æ”¹æˆpasswordï¼Œå¾ŒçºŒæ“ä½œæœƒå–®ç´”å¾ˆå¤šï¼Œå› ç‚ºï¼š<br>Laravel é è¨­èªå¯†ç¢¼æ¬„ä½å°±æ˜¯ password</p>
<p>åœ¨ app&#x2F;Http&#x2F;Controllers å»ºç«‹ AuthController.phpï¼Œä¸¦ä¸”è£¡é¢æœ‰åŸºæœ¬çš„ä¸‰å€‹æ–¹æ³•login,me,logout</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Http\Controllers;</span><br><span class="line"></span><br><span class="line">use Illuminate\Http\Request;</span><br><span class="line">use App\Models\User;</span><br><span class="line">use Illuminate\Support\Facades\Hash;</span><br><span class="line">use Tymon\JWTAuth\Facades\JWTAuth;</span><br><span class="line"></span><br><span class="line">class AuthController extends Controller</span><br><span class="line">&#123;</span><br><span class="line">    // ç™»å…¥</span><br><span class="line">    public function login(Request $request)</span><br><span class="line">    &#123;</span><br><span class="line">        $credentials = $request-&gt;validate([</span><br><span class="line">            &#x27;user_id&#x27; =&gt; &#x27;required|string&#x27;,</span><br><span class="line">            &#x27;password&#x27; =&gt; &#x27;required|string&#x27;,</span><br><span class="line">        ]);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            // å˜—è©¦ç™»å…¥ä¸¦ç”¢ç”Ÿ JWT token</span><br><span class="line">            if (!$token = JWTAuth::attempt($credentials)) &#123;</span><br><span class="line">                return response()-&gt;json([&#x27;error&#x27; =&gt; &#x27;Invalid credentials&#x27;], 401);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (JWTException $e) &#123;</span><br><span class="line">            return response()-&gt;json([&#x27;error&#x27; =&gt; &#x27;Could not create token&#x27;], 500);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // ç™»å…¥æˆåŠŸï¼Œå›å‚³ token</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;access_token&#x27; =&gt; $token,</span><br><span class="line">            &#x27;token_type&#x27; =&gt; &#x27;bearer&#x27;,</span><br><span class="line">            &#x27;expires_in&#x27; =&gt; JWTAuth::factory()-&gt;getTTL() * 60, // é€™æ¨£æ‰æœƒç”¨ JWT TTL</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * å–å¾—ç•¶å‰ä½¿ç”¨è€…è³‡æ–™</span><br><span class="line">     */</span><br><span class="line">    public function me()</span><br><span class="line">    &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            $user = JWTAuth::parseToken()-&gt;authenticate();</span><br><span class="line">        &#125; catch (\Exception $e) &#123;</span><br><span class="line">            return response()-&gt;json([&#x27;error&#x27; =&gt; &#x27;Token invalid or expired&#x27;], 401);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json($user);</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * ä½¿ç”¨è€…ç™»å‡ºï¼ˆå°‡ token å¤±æ•ˆï¼‰</span><br><span class="line">     */</span><br><span class="line">    public function logout(Request $request)</span><br><span class="line">    &#123;</span><br><span class="line">        $token = $request-&gt;bearerToken();</span><br><span class="line">        if ($token) &#123;</span><br><span class="line">            JWTAuth::invalidate($token);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json([&#x27;message&#x27; =&gt; &#x27;Successfully logged out&#x27;]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™æ™‚æˆ‘å°±æœ‰å•é¡Œï¼Œ</p>
<ol>
<li>é€™æ¨£APIå›å‚³çš„æ ¼å¼ä¸çµ±ä¸€ï¼Œ</li>
<li>å‰ç«¯è¦æ‰“å…©æ¬¡APIæ‰èƒ½æ‹¿åˆ°ä½¿ç”¨è€…çš„è³‡è¨Š</li>
</ol>
<p>æ„›é†¬ä¹ŸèªåŒæˆ‘çš„ç–‘æƒ‘ï¼Œé€™æœƒé€ æˆå‰ç«¯è™•ç†ä¸Šä¸å¤ªä¸€è‡´ï¼Œå› ç‚ºå¯èƒ½è¦å…ˆåˆ¤æ–·æœ‰æ²’æœ‰ access_token æ‰çŸ¥é“æˆåŠŸæˆ–å¤±æ•—ã€‚<br>ä¸¦å»ºè­°åšäº›èª¿æ•´ï¼Œçµ±ä¸€å›å‚³ä¸€å€‹å›ºå®šçµæ§‹<br>åƒæ˜¯é€™æ¨£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;success&quot;: true/false,</span><br><span class="line">    &quot;data&quot;: &#123;...&#125;,      // æˆåŠŸæ™‚æ”¾ token + user</span><br><span class="line">    &quot;message&quot;: &quot;æè¿°æ–‡å­—&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ­£å¾Œçš„AuthController.php</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Http\Controllers;</span><br><span class="line"></span><br><span class="line">use App\Models\User;</span><br><span class="line">use Illuminate\Http\Request;</span><br><span class="line">use Tymon\JWTAuth\Facades\JWTAuth;</span><br><span class="line"></span><br><span class="line">class AuthController extends Controller</span><br><span class="line">&#123;</span><br><span class="line">    // ç™»å…¥</span><br><span class="line"></span><br><span class="line">    public function login(Request $request)</span><br><span class="line">    &#123;</span><br><span class="line">        $credentials = $request-&gt;validate([</span><br><span class="line">            &#x27;user_id&#x27; =&gt; &#x27;required|string&#x27;,</span><br><span class="line">            &#x27;password&#x27; =&gt; &#x27;required|string&#x27;,</span><br><span class="line">        ]);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            // å˜—è©¦ç™»å…¥ä¸¦ç”¢ç”Ÿ JWT token</span><br><span class="line">            if (! $token = JWTAuth::attempt($credentials)) &#123;</span><br><span class="line">                return response()-&gt;json([</span><br><span class="line">                    &#x27;success&#x27; =&gt; false,</span><br><span class="line">                    &#x27;data&#x27; =&gt; null,</span><br><span class="line">                    &#x27;message&#x27; =&gt; &#x27;Invalid credentials&#x27;,</span><br><span class="line">                ], 401);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (JWTException $e) &#123;</span><br><span class="line">            return response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; false,</span><br><span class="line">                &#x27;data&#x27; =&gt; null,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;Could not create token&#x27;,</span><br><span class="line">            ], 500);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // ç™»å…¥æˆåŠŸï¼Œå›å‚³ token + user</span><br><span class="line">        $user = auth()-&gt;user(); // å–å¾—ç™»å…¥çš„ä½¿ç”¨è€…</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; true,</span><br><span class="line">            &#x27;data&#x27; =&gt; [</span><br><span class="line">                &#x27;access_token&#x27; =&gt; $token,</span><br><span class="line">                &#x27;token_type&#x27; =&gt; &#x27;bearer&#x27;,</span><br><span class="line">                &#x27;expires_in&#x27; =&gt; JWTAuth::factory()-&gt;getTTL() * 60,</span><br><span class="line">                &#x27;user&#x27; =&gt; $user,</span><br><span class="line">            ],</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Login successful&#x27;,</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * å–å¾—ç•¶å‰ä½¿ç”¨è€…è³‡æ–™</span><br><span class="line">     */</span><br><span class="line">    public function me()</span><br><span class="line">    &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            $user = JWTAuth::parseToken()-&gt;authenticate();</span><br><span class="line"></span><br><span class="line">            return response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; true,</span><br><span class="line">                &#x27;data&#x27; =&gt; $user,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;User fetched successfully&#x27;,</span><br><span class="line">            ]);</span><br><span class="line">        &#125; catch (\Tymon\JWTAuth\Exceptions\TokenExpiredException $e) &#123;</span><br><span class="line">            return response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; false,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;Token has expired&#x27;,</span><br><span class="line">            ], 401);</span><br><span class="line">        &#125; catch (\Tymon\JWTAuth\Exceptions\TokenInvalidException $e) &#123;</span><br><span class="line">            return response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; false,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;Token is invalid&#x27;,</span><br><span class="line">            ], 401);</span><br><span class="line">        &#125; catch (\Tymon\JWTAuth\Exceptions\JWTException $e) &#123;</span><br><span class="line">            return response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; false,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;Token not provided&#x27;,</span><br><span class="line">            ], 401);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * ä½¿ç”¨è€…ç™»å‡ºï¼ˆå°‡ token å¤±æ•ˆï¼‰</span><br><span class="line">     */</span><br><span class="line">    public function logout(Request $request)</span><br><span class="line">    &#123;</span><br><span class="line">        $token = $request-&gt;bearerToken();</span><br><span class="line">        if ($token) &#123;</span><br><span class="line">            JWTAuth::invalidate($token); //æŠŠ token åŠ åˆ° é»‘åå–® (blacklist)ï¼Œè®“å®ƒå³ä½¿é‚„æ²’éæœŸä¹Ÿä¸èƒ½å†ç”¨</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json([&#x27;message&#x27; =&gt; &#x27;Successfully logged out&#x27;]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å°fuction me è·Ÿ logout è§£èªª</p>
<h2 id="function-me-ç²å–ä½¿ç”¨è€…è³‡æ–™"><a href="#function-me-ç²å–ä½¿ç”¨è€…è³‡æ–™" class="headerlink" title="function me ç²å–ä½¿ç”¨è€…è³‡æ–™"></a>function me ç²å–ä½¿ç”¨è€…è³‡æ–™</h2><p>æ ¸å¿ƒçš„å…§å®¹æ˜¯é€™è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$user = JWTAuth::parseToken()-&gt;authenticate();</span><br></pre></td></tr></table></figure>
<ul>
<li>parseToken()ï¼šæœƒå¾ request header çš„ Authorization: Bearer <token> è£¡è‡ªå‹•å–å‡º JWTã€‚</li>
<li>authenticate()ï¼šè§£ç¢¼ JWT â†’ ç¢ºèª token æ˜¯å¦æœ‰æ•ˆã€æ˜¯å¦éæœŸ â†’ å¦‚æœæ­£å¸¸å°±å›å‚³å°æ‡‰çš„ä½¿ç”¨è€…ã€‚<br>ğŸ‘‰ æ‰€ä»¥é€™è£¡å·²ç¶“éš±å«äº† token é©—è­‰ã€‚å¦‚æœ token ç„¡æ•ˆ&#x2F;éæœŸï¼Œæœƒç›´æ¥ä¸Ÿä¾‹å¤– (TokenExpiredException &#x2F; TokenInvalidException)ã€‚</li>
</ul>
<p>JWTï¼ˆJSON Web Tokenï¼‰æœ¬èº«å°±åŒ…å«äº† ä½¿ç”¨è€…çš„è­˜åˆ¥è³‡è¨Šï¼Œ<br>åœ¨è§£æ Tokenä¹‹å¾Œå¯ä»¥è®€å– Payloadï¼Œä¹‹å¾Œè¼‰å…¥ä½¿ç”¨è€…è³‡è¨Š</p>
<h2 id="fuction-logout-ä½¿ç”¨è€…ç™»å‡º"><a href="#fuction-logout-ä½¿ç”¨è€…ç™»å‡º" class="headerlink" title="fuction logout ä½¿ç”¨è€…ç™»å‡º"></a>fuction logout ä½¿ç”¨è€…ç™»å‡º</h2><p>ç™»å‡ºæ˜¯è¦ è®“ token ç«‹å³å¤±æ•ˆã€‚<br>JWT æœ¬è³ªä¸Šæ˜¯ã€Œç„¡ç‹€æ…‹ã€çš„ï¼Œç†è«–ä¸Šåªè¦ç°½ç™¼å°±æœƒä¸€ç›´æœ‰æ•ˆåˆ°éæœŸæ™‚é–“ç‚ºæ­¢ã€‚<br>invalidate($token) çš„æ„æ€æ˜¯æŠŠ token åŠ åˆ° é»‘åå–® (blacklist)ï¼Œè®“å®ƒå³ä½¿é‚„æ²’éæœŸä¹Ÿä¸èƒ½å†ç”¨ã€‚<br>æ‰€ä»¥é€™è£¡è¦æ‰‹å‹•æ‹¿å‡º token ä¸Ÿçµ¦ invalidate()ã€‚</p>
<h2 id="fuction-register-ä½¿ç”¨è€…è¨»å†Š"><a href="#fuction-register-ä½¿ç”¨è€…è¨»å†Š" class="headerlink" title="fuction register ä½¿ç”¨è€…è¨»å†Š"></a>fuction register ä½¿ç”¨è€…è¨»å†Š</h2><p>ä¹‹å¾ŒåŠ ä¸Šä½¿ç”¨è€…è¨»å†Šçš„åŠŸèƒ½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * ä½¿ç”¨è€…è¨»å†Š</span><br><span class="line"> */</span><br><span class="line">public function register(Request $request)</span><br><span class="line">&#123;</span><br><span class="line">    $validated = $request-&gt;validate([</span><br><span class="line">        &#x27;user_id&#x27; =&gt; &#x27;required|string|max:50|unique:users,user_id&#x27;,</span><br><span class="line">        &#x27;password&#x27; =&gt; &#x27;required|string|min:6&#x27;,</span><br><span class="line">        &#x27;nickname&#x27; =&gt; &#x27;required|string|max:50&#x27;,</span><br><span class="line">        &#x27;weight&#x27; =&gt; &#x27;nullable|numeric|min:0&#x27;,</span><br><span class="line">        &#x27;status&#x27; =&gt; &#x27;required|string|max:50&#x27;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line">        // å»ºç«‹ä½¿ç”¨è€…</span><br><span class="line">        $user = User::create([</span><br><span class="line">            &#x27;user_id&#x27; =&gt; $validated[&#x27;user_id&#x27;],</span><br><span class="line">            &#x27;password&#x27; =&gt; bcrypt($validated[&#x27;password&#x27;]), // bcrypt åŠ å¯†</span><br><span class="line">            &#x27;nickname&#x27; =&gt; $validated[&#x27;nickname&#x27;],</span><br><span class="line">            &#x27;weight&#x27; =&gt; $validated[&#x27;weight&#x27;] ?? 60.0, // é è¨­é«”é‡ 60.0</span><br><span class="line">            &#x27;status&#x27; =&gt; &quot;active&quot;,</span><br><span class="line">            &#x27;last_login_at&#x27; =&gt; null,</span><br><span class="line">            &#x27;password_change_at&#x27; =&gt; now(), // è¨»å†Šæ™‚é è¨­å¯†ç¢¼è¨­å®šæ™‚é–“</span><br><span class="line">        ]);</span><br><span class="line"></span><br><span class="line">        // è¨»å†Šå®Œæˆé¦¬ä¸Šç™»å…¥ä¸¦å›å‚³ token</span><br><span class="line">        $token = JWTAuth::fromUser($user);</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; true,</span><br><span class="line">            &#x27;data&#x27; =&gt; [</span><br><span class="line">                &#x27;user&#x27; =&gt; $user,</span><br><span class="line">                &#x27;access_token&#x27; =&gt; $token,</span><br><span class="line">                &#x27;token_type&#x27; =&gt; &#x27;bearer&#x27;,</span><br><span class="line">                &#x27;expires_in&#x27; =&gt; JWTAuth::factory()-&gt;getTTL() * 60,</span><br><span class="line">            ],</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;User registered successfully&#x27;,</span><br><span class="line">        ], 201);</span><br><span class="line"></span><br><span class="line">    &#125; catch (\Exception $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Registration failed&#x27;,</span><br><span class="line">            &#x27;error&#x27; =&gt; $e-&gt;getMessage(),</span><br><span class="line">        ], 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="updateProfile-ä½¿ç”¨è€…æ›´æ–°è³‡æ–™"><a href="#updateProfile-ä½¿ç”¨è€…æ›´æ–°è³‡æ–™" class="headerlink" title="updateProfile ä½¿ç”¨è€…æ›´æ–°è³‡æ–™"></a>updateProfile ä½¿ç”¨è€…æ›´æ–°è³‡æ–™</h2><p>å¸¸è¦‹çš„ å¸³è™Ÿç”Ÿå‘½é€±æœŸ APIåŒ…å«ä¸‹é¢å¹¾å€‹<br>âœ… login<br>âœ… register<br>âœ… me<br>âœ… logout<br>âœ… updateProfile</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * æ›´æ–°ä½¿ç”¨è€…è³‡æ–™</span><br><span class="line"> */</span><br><span class="line">public function updateProfile(Request $request)</span><br><span class="line">&#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        $user = JWTAuth::parseToken()-&gt;authenticate();</span><br><span class="line"></span><br><span class="line">    $validated = $request-&gt;validate([</span><br><span class="line">        &#x27;nickname&#x27; =&gt; &#x27;nullable|string|max:50&#x27;,</span><br><span class="line">        &#x27;weight&#x27;   =&gt; &#x27;nullable|numeric|min:0&#x27;,</span><br><span class="line">        &#x27;password&#x27; =&gt; &#x27;nullable|string|min:6|confirmed&#x27;, // confirmed æœƒæª¢æŸ¥ password_confirmation</span><br><span class="line">    ]);</span><br><span class="line">    if (isset($validated[&#x27;nickname&#x27;])) &#123;</span><br><span class="line">        $user-&gt;nickname = $validated[&#x27;nickname&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (isset($validated[&#x27;weight&#x27;])) &#123;</span><br><span class="line">        $user-&gt;weight = $validated[&#x27;weight&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (isset($validated[&#x27;password&#x27;])) &#123;</span><br><span class="line">        $user-&gt;password = bcrypt($validated[&#x27;password&#x27;]);</span><br><span class="line">        $user-&gt;password_change_at = now();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $user-&gt;save();</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\TokenExpiredException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token has expired&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\TokenInvalidException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token is invalid&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\JWTException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token not provided&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™å€‹åšæ³•æ˜¯å°‡å…¶ä»–å€‹äººè³‡æ–™æ›´æ–°èˆ‡å¯†ç¢¼æ›´æ–°æ”¾åœ¨ä¸€èµ·ï¼Œé›–ç„¶ç°¡å–®æ–¹ä¾¿ä½†æ˜¯å®‰å…¨æ€§æˆ‘å°±ä¸æ˜¯å¾ˆæ»¿æ„ï¼Œä¹Ÿè·Ÿå¸¸æ¥è§¸çš„ä¿®è©²è³‡æ–™æœ‰é»ä¸ä¸€æ¨£</p>
<p>æœ‰äº›äººæœƒé¸æ“‡å€‹äººè³‡æ–™æ›´æ–°èˆ‡æ›´æ–°å¯†ç¢¼åˆ†å…©å€‹APIåŸ·è¡Œ<br>è®“å¯†ç¢¼æ›´æ–°çš„APIéœ€è¦è¼¸å…¥èˆŠå¯†ç¢¼å¢åŠ å®‰å…¨æ€§<br>æˆ–æ˜¯æ‰€æœ‰æ›´æ–°éƒ½éœ€è¦è¼¸å…¥å¯†ç¢¼ï¼Œä½†æ˜¯æœƒè®“ä½¿ç”¨è€…é«”é©—æ¥µå·®<br>æˆ‘æƒ³æƒ³èƒ½ä¸èƒ½åƒ…æœ‰æ•æ„Ÿè³‡è¨Šéœ€è¦è¼¸å…¥å¯†ç¢¼ï¼Œå…¶ä»–ç›´æ¥æ›´æ–°å°±å¥½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">public function updateProfile(Request $request)</span><br><span class="line">&#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        $user = JWTAuth::parseToken()-&gt;authenticate();</span><br><span class="line"></span><br><span class="line">    $validated = $request-&gt;validate([</span><br><span class="line">        &#x27;nickname&#x27; =&gt; &#x27;nullable|string|max:50&#x27;,</span><br><span class="line">        &#x27;weight&#x27;   =&gt; &#x27;nullable|numeric|min:0&#x27;,</span><br><span class="line">        &#x27;password&#x27; =&gt; &#x27;nullable|string|min:6&#x27;, // æ–°å¯†ç¢¼</span><br><span class="line">        &#x27;old_password&#x27; =&gt; &#x27;required_with:password|string&#x27;, // ç•¶è¦æ”¹å¯†ç¢¼æ™‚ï¼ŒèˆŠå¯†ç¢¼å¿…å¡«</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">        // å¦‚æœè¦æ›´æ–°å¯†ç¢¼ â†’ é©—è­‰èˆŠå¯†ç¢¼</span><br><span class="line">        if ($request-&gt;has(&#x27;password&#x27;)) &#123;</span><br><span class="line">            if (! Hash::check($request-&gt;input(&#x27;old_password&#x27;), $user-&gt;password)) &#123;</span><br><span class="line">                rreturn response()-&gt;json([</span><br><span class="line">                &#x27;success&#x27; =&gt; false,</span><br><span class="line">                &#x27;message&#x27; =&gt; &#x27;èˆŠå¯†ç¢¼éŒ¯èª¤&#x27;,</span><br><span class="line">            ], 403);</span><br><span class="line">            &#125;</span><br><span class="line">            $user-&gt;password = bcrypt($request-&gt;input(&#x27;password&#x27;));</span><br><span class="line">            $user-&gt;password_change_at = now();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    // æ›´æ–°å…¶ä»–æ¬„ä½</span><br><span class="line">    if (isset($validated[&#x27;nickname&#x27;])) &#123;</span><br><span class="line">        $user-&gt;nickname = $validated[&#x27;nickname&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (isset($validated[&#x27;weight&#x27;])) &#123;</span><br><span class="line">        $user-&gt;weight = $validated[&#x27;weight&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line">        $user-&gt;save();</span><br><span class="line"></span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; true,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;è³‡æ–™æ›´æ–°æˆåŠŸ&#x27;,</span><br><span class="line">            &#x27;data&#x27; =&gt; $user,</span><br><span class="line">        ]);</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\TokenExpiredException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token has expired&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\TokenInvalidException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token is invalid&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125; catch (\Tymon\JWTAuth\Exceptions\JWTException $e) &#123;</span><br><span class="line">        return response()-&gt;json([</span><br><span class="line">            &#x27;success&#x27; =&gt; false,</span><br><span class="line">            &#x27;message&#x27; =&gt; &#x27;Token not provided&#x27;,</span><br><span class="line">        ], 401);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é›–ç„¶é‹ç”¨fill()æ‰¹é‡è³¦å€¼è™•ç†(ä¸€æ¬¡æŠŠé™£åˆ—ä¸­çš„å¤šå€‹æ¬„ä½ä¸Ÿçµ¦ model)ã€‚<br>ç°¡æ½”ã€å¥½ç¶­è­·ã€é©åˆæ›´æ–°å¤šå€‹æ¬„ä½æ™‚ï¼Œä¸ç”¨ä¸€å€‹å€‹å¯« if åˆ¤æ–·ã€‚<br>ä½†æ˜¯å®‰å…¨æ€§å„ªå…ˆ â†’ ç”¨ isset() ä¸€å€‹å€‹æ›´æ–°æ¬„ä½ï¼Œæˆ‘æœ€é‚„æ˜¯é¸æ“‡ä½¿ç”¨é€™å€‹</p>
<h1 id="AuthController-å®Œæˆä¹‹å¾Œï¼Œè¨­å®š-Route"><a href="#AuthController-å®Œæˆä¹‹å¾Œï¼Œè¨­å®š-Route" class="headerlink" title="AuthController å®Œæˆä¹‹å¾Œï¼Œè¨­å®š Route"></a>AuthController å®Œæˆä¹‹å¾Œï¼Œè¨­å®š Route</h1><p>ç¾åœ¨æœ‰äº†å®Œæ•´çš„ å¾Œç«¯ JWT èªè­‰æµç¨‹ï¼Œ<br>æ¥è‘—ç¢ºä¿çš„ routes&#x2F;api.php æœ‰å°æ‡‰çš„ API è·¯ç”±</p>
<p>æ‰èƒ½å†å‘¼å«apiçš„æ™‚å€™æœ‰åæ‡‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">use App\Http\Controllers\AuthController;</span><br><span class="line"></span><br><span class="line">Route::post(&#x27;/login&#x27;, [AuthController::class, &#x27;login&#x27;]);</span><br><span class="line">Route::post(&#x27;/register&#x27;, [AuthController::class, &#x27;register&#x27;]);</span><br><span class="line"></span><br><span class="line">// éœ€è¦ JWT é©—è­‰çš„è·¯ç”±</span><br><span class="line">Route::middleware(&#x27;auth:api&#x27;)-&gt;group(function () &#123;</span><br><span class="line">    Route::get(&#x27;/me&#x27;, [AuthController::class, &#x27;me&#x27;]);</span><br><span class="line">    Route::post(&#x27;/logout&#x27;, [AuthController::class, &#x27;logout&#x27;]);</span><br><span class="line">    Route::put(&#x27;/profile&#x27;, [AuthController::class, &#x27;updateProfile&#x27;]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="è¨­å®š-JWT-middlewareï¼Œ"><a href="#è¨­å®š-JWT-middlewareï¼Œ" class="headerlink" title="è¨­å®š JWT middlewareï¼Œ"></a>è¨­å®š JWT middlewareï¼Œ</h2><p>ç¢ºèª config&#x2F;auth.php è£¡çš„ guards æœ‰è¨­å®š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x27;guards&#x27; =&gt; [</span><br><span class="line">    &#x27;web&#x27; =&gt; [</span><br><span class="line">        &#x27;driver&#x27; =&gt; &#x27;session&#x27;,</span><br><span class="line">        &#x27;provider&#x27; =&gt; &#x27;users&#x27;,</span><br><span class="line">    ],</span><br><span class="line">    // æ–°å¢ä¸€å€‹ &#x27;api&#x27; guardï¼Œä½¿ç”¨ &#x27;jwt&#x27; é©…å‹•</span><br><span class="line">    &#x27;api&#x27; =&gt; [</span><br><span class="line">        &#x27;driver&#x27; =&gt; &#x27;jwt&#x27;,</span><br><span class="line">        &#x27;provider&#x27; =&gt; &#x27;users&#x27;,</span><br><span class="line">        &#x27;hash&#x27; =&gt; false,</span><br><span class="line">    ],</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>é€™æ¨£ auth()-&gt;user() æ‰æœƒåœ¨ API ä¸­æ‹¿åˆ° JWT å°æ‡‰çš„ä½¿ç”¨è€…ã€‚</p>
<p>ä¹‹å¾Œå¯èƒ½è¦æ‰¾æ™‚é–“ç ”ç©¶laravelå‘½åæ…£ä¾‹ï¼Œé€™æ¬¡åœ¨å‘½åä¸Šåƒäº†ä¸å°‘è‹¦é ­</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/22/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part11/" data-id="cmfyy9a800000xlbogx025v52" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part11" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ä¸è² è²¬ä»»çš„æ¡è²·æ…¾æœ›" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/19/%E4%B8%8D%E8%B2%A0%E8%B2%AC%E4%BB%BB%E7%9A%84%E6%8E%A1%E8%B2%B7%E6%85%BE%E6%9C%9B/" class="article-date">
  <time class="dt-published" datetime="2025-09-19T07:18:57.000Z" itemprop="datePublished">2025-09-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/19/%E4%B8%8D%E8%B2%A0%E8%B2%AC%E4%BB%BB%E7%9A%84%E6%8E%A1%E8%B2%B7%E6%85%BE%E6%9C%9B/">ä¸è² è²¬ä»»çš„æ¡è²·æ…¾æœ›</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="å¦‚é¡Œå°±æ˜¯ä¸è² è²¬ä»»çš„æ…¾æœ›æ¸…å–®"><a href="#å¦‚é¡Œå°±æ˜¯ä¸è² è²¬ä»»çš„æ…¾æœ›æ¸…å–®" class="headerlink" title="å¦‚é¡Œå°±æ˜¯ä¸è² è²¬ä»»çš„æ…¾æœ›æ¸…å–®"></a>å¦‚é¡Œå°±æ˜¯ä¸è² è²¬ä»»çš„æ…¾æœ›æ¸…å–®</h1><p>å¤©æ–‡æœ›é é¡ï¼Œä¸‹æ¬¡æœ‰å¤©æ–‡æ™¯è§€çš„æ™‚å€™å¯ä»¥æ‹¿å‡ºä¾†çœ‹çœ‹ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/19/%E4%B8%8D%E8%B2%A0%E8%B2%AC%E4%BB%BB%E7%9A%84%E6%8E%A1%E8%B2%B7%E6%85%BE%E6%9C%9B/" data-id="cmfqih0oo0000adbo7ltpdrv2" data-title="ä¸è² è²¬ä»»çš„æ¡è²·æ…¾æœ›" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shopping-cart/" rel="tag">shopping_cart</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-20250919è¿‘æ³å ±å‘Š" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/19/20250919%E8%BF%91%E6%B3%81%E5%A0%B1%E5%91%8A/" class="article-date">
  <time class="dt-published" datetime="2025-09-19T02:42:20.000Z" itemprop="datePublished">2025-09-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/19/20250919%E8%BF%91%E6%B3%81%E5%A0%B1%E5%91%8A/">20250919è¿‘æ³å ±å‘Š</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="æ¾æ¹–å®¶æ—æ—…è¡Œæ¦‚è¿°"><a href="#æ¾æ¹–å®¶æ—æ—…è¡Œæ¦‚è¿°" class="headerlink" title="æ¾æ¹–å®¶æ—æ—…è¡Œæ¦‚è¿°"></a>æ¾æ¹–å®¶æ—æ—…è¡Œæ¦‚è¿°</h1><p>é€™æ˜¯ä¸€å ´ä¸‰å¤©å…©å¤œçš„æ¾æ¹–è¡Œï¼Œç”±æˆ‘è·Ÿçˆ¶æ¯ä»¥åŠå¦¹å¦¹ã€å¦¹å©¿äº”äººçš„å®¶æ—æ—…è¡Œ</p>
<p>é€™æ¬¡çš„æ—…ç¨‹æœ‰å…«æˆæ˜¯æˆ‘è¦åŠƒçš„ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ç•¶äº†é€™ä¸‰å¤©çš„å°éŠ</p>
<p>æˆ‘å€‘æ˜¯ç§Ÿæ©Ÿæ’¤è‡ªç”±è¡Œï¼Œé‚Šçœ‹å°èˆªé‚Šé¨è»Šé‚„è¦ä¸å®šæ™‚ç¢ºèªå¾Œé¢çš„è»Šæœ‰æ²’æœ‰è·Ÿä¸Šï¼Œä¸å¾—ä¸èªªæŒºç´¯çš„</p>
<h2 id="å¯æƒœçš„åœ°æ–¹"><a href="#å¯æƒœçš„åœ°æ–¹" class="headerlink" title="å¯æƒœçš„åœ°æ–¹"></a>å¯æƒœçš„åœ°æ–¹</h2><p>æª¢è¨ä¸€ä¸‹é€™æ¬¡æ¯”è¼ƒå¯æƒœçš„åœ°æ–¹ï¼Œå¦‚æœé‡åˆ°æƒ³å»çš„æ™¯é»æˆ–æ˜¯æƒ³æ¨è–¦çµ¦å¤§å®¶çš„ç¾é£Ÿï¼Œå°±åœä¸‹ä¾†ç™¼å€‹è¨Šæ¯å§</p>
<p>é›–ç„¶æœ‰æ’è¡Œç¨‹ï¼Œä½†æ˜¯çœŸçš„ä¸éœ€è¦é‚£éº¼æ‹˜è¬¹ï¼Œæˆ‘åœ¨æœ€å‰é ­åªæœƒæ³¨æ„è·Ÿç›®çš„åœ°æœ‰é—œçš„è³‡è¨Šï¼Œ</p>
<p>å†ä¾†æ˜¯ä½å®¿çš„æ–¹é›¢å¸‚å€å¤ªé ï¼Œå–®è¶Ÿå°±è¦20åˆ†ï¼Œä¾†å›éƒ½æ˜¯å°æ¶ˆè€—ï¼Œå¦‚æœä½åœ¨å¸‚å€æ™šä¸Šé‚„å¯ä»¥è¦åŠƒä¸€äº›è‡ªç”±è¡Œç¨‹</p>
<p>æœ‰äº›æ™¯é»è¦é™ªå’Œæ™‚é–“è§€çœ‹ï¼Œåƒæ˜¯è§€æ—¥æ¨“çœ‹æ—¥å‡ºï¼Œè¥¿å¶¼é¦¬ç¥–åƒçœ‹æ—¥è½ï¼Œæ‘©è¥¿åˆ†æµ·è¦æ³¨æ„æ½®æ±æ¼²é€€ï¼Œé€™äº›å°åœ°æ–¹èƒ½æ³¨æ„åˆ°æœƒæ›´å¥½</p>
<p>å¤©æ°£æ–¹é¢ï¼Œå¤©å…¬ä½œç¾ä¸‰å¤©éƒ½çµ¦äº†å¥½å¤©æ°£ï¼Œä½†æ˜¯ä¹Ÿå¤ªç†±ï¼Œè®“é«”åŠ›æ¶ˆè€—æŒºå¿«çš„ï¼Œä¸‹åˆçš„è¡Œç¨‹éƒ½å¾ç°¡è™•ç†ï¼Œ</p>
<p>æ¾æ¹–çš„æ™¯é»é‚„çœŸçš„ä¸å°‘ç…§é¨™ï¼Œæ™¯é»å°å°çš„æ‹ç…§æ˜¯æŒºå¥½çœ‹çš„ï¼Œä½†æ˜¯å°±æœ‰é»ä¸æ»¿è¶³ï¼ŒæœŸæœ›æ‡‰è©²èƒ½çœ‹åˆ°æ›´å£¯è§€çš„</p>
<p>åœ¨åƒçš„éƒ¨åˆ†ä¸‹çš„å·¥å¤«å°±æ¯”è¼ƒå°‘ï¼Œå¸¸å¸¸ä¸çŸ¥é“è¦åƒä»€éº¼éš¨ä¾¿æ™ƒï¼Œç„¶å¾Œæ™ƒçš„åœ°æ–¹åˆå‰›å‰›å¥½æ²’é¤å»³</p>
<h2 id="é£Ÿç‰©æ–¹é¢"><a href="#é£Ÿç‰©æ–¹é¢" class="headerlink" title="é£Ÿç‰©æ–¹é¢"></a>é£Ÿç‰©æ–¹é¢</h2><p>æ¾æ¹–çš„é£Ÿç‰©ï¼Œæµ·ç”¢å°±åƒä¸è¦éŒ¢ä¼¼çš„ï¼Œçµ¦çš„è¶…ç´šå¤šï¼Œé‡ä¹Ÿå¾ˆå¤§ï¼Œæœ‰æ„ç¨®ç‰©è¶…æ‰€å€¼çš„æ„Ÿè¦º</p>
<p>ç•¶åœ°ç‰¹æœ‰çš„ç´«èœæ–™ç†ä¹Ÿæœ‰å“å˜—åˆ°ï¼Œæ¯”è¼ƒå¯æƒœçš„æ˜¯æ²’åƒåˆ°æ¾æ¹–ç‚¸ç²¿ï¼Œä¹‹å‰ä¸çŸ¥é“æœ‰é€™å€‹ç¾é£Ÿ</p>
<p>æœ‰ä¸€é¤æ˜¯è·¯ä¸Šéš¨ä¾¿æ‰¾ï¼Œçˆ¸çˆ¸å°±æŒ‡å‰æ–¹çš„å¤§æ–¹ç‰›æ’é¤¨ï¼Œä¾†æ¾æ¹–åƒç‰›æ’æ„Ÿè¦ºå¾ˆå¥‡æ€ªå§</p>
<p>ä¸éé‚£å®¶çµ¦çš„çœŸçš„å¤§æ–¹ï¼Œé‡è¶…å¤šé£Ÿé‡æ¯”è¼ƒå°çš„åª½åª½è·Ÿå¦¹å¦¹æ²’åƒå®Œï¼Œé€£çˆ¸çˆ¸ä¹Ÿåƒä¸å®Œï¼Œä¸‹æ¬¡å°±å…±é¤å§ï¼Œæ¯”è¼ƒä¸æœƒæµªè²»</p>
<p>å°ç®¡æ–™ç†å¥½åƒï¼Œé¤å»³ç”Ÿé­šç‰‡çµ¦çš„é‡ä¸å¦‚å¢¾ä¸å¾Œå£æ¹–çš„å¤šï¼Œå¾Œå£æ¹–ç”Ÿé­šç‰‡çœŸçš„è¶…ä¾¿å®œï¼ŒCPå€¼æ‡‰è©²å¾ˆé›£è¶…è¶Š</p>
<h2 id="é‡£å°ç®¡é«”é©—"><a href="#é‡£å°ç®¡é«”é©—" class="headerlink" title="é‡£å°ç®¡é«”é©—"></a>é‡£å°ç®¡é«”é©—</h2><p>æˆ‘è¦ºå¾—å¤§æ¦‚æ˜¯å­£ç¯€ä¸å°å§ï¼Œæˆ‘å€‘æ•´èˆ¹éƒ½æ²’é‡£åˆ°ï¼Œå¾Œä¾†èˆ¹å…¬å¸ç”¨æ’ˆçš„ä¹Ÿæ²’æ’ˆåˆ°ï¼Œä¸éå°ç®¡éºµç·šå¥½åƒï¼Œéš¨èˆ¹é‚„æœ‰é™„é»‘ç³–ç³•ï¼Œè®šè®š</p>
<p>æˆ‘äº‹å¾Œæ‰“è½ï¼Œé‡£å°ç®¡æ¨è–¦çš„å­£ç¯€æ˜¯5-6æœˆï¼Œæˆ‘é¸çš„é‚£å®¶æ˜¯åœ¨æ¾æ¹–å…§æµ·é‡£çš„</p>
<p>ä¸‹æ¬¡å¦‚æœæœ‰æ©Ÿæœƒï¼Œå¯èƒ½æœƒå»é–æ¸¯åˆé †æˆ–æ˜¯æ­èˆ¹é•·é‚£é‚Šè©¦è©¦ï¼Œä»–å€‘å¥½åƒæ˜¯å¤–æµ·é‡£å°ç®¡</p>
<h2 id="è·³å³¶é«”é©—"><a href="#è·³å³¶é«”é©—" class="headerlink" title="è·³å³¶é«”é©—"></a>è·³å³¶é«”é©—</h2><p>é€™æ¬¡æˆ‘æœ‰é€éKlookè³¼è²·è·³å³¶è¡Œç¨‹ï¼Œå»æ±å‰å¶¼è·Ÿä¸ƒç¾å¶¼æ™ƒæ™ƒï¼Œé‚„åšäº†è—æ´çš„å·¡èˆª</p>
<p>è—æ´å¯æ˜¯æ™‚æ©Ÿä¸å°å§ï¼Œæ²’æœ‰çœ‹åˆ°è—è—çš„æ™¯è§€</p>
<p>æ±å‰å¶¼ä¸Šé¢çš„è±†èŠ±å¥½åƒï¼Œå¦‚æœè¦æ·±å…¥é€›å¯èƒ½è¦ç§Ÿæ©Ÿè»Šæœƒæ¯”è¼ƒæ–¹ä¾¿ï¼Œå¾æ¸¯å£èµ°åˆ°æ—¥è»éºå€å¤§æ¦‚å°±2å…¬é‡Œå¤šäº†ï¼Œ</p>
<p>æ™‚é–“æ˜¯å¯ä»¥ï¼Œä½†æ˜¯ä¸æ¨è–¦ï¼Œé‚£æœƒå¤ªæ¶ˆè€—é«”åŠ›ï¼Œç•¶åœ°çš„è±†èŠ±è »å¥½åƒçš„ï¼Œ</p>
<p>ä¸ƒç¾æ©Ÿè»Šè‡ªç”±è¡Œæ™‚é–“è¶…ç´šå……è£•çš„ï¼Œå¯ä»¥å…ˆæ‚ é–’åœ°äº«ç”¨åˆé¤å†å‡ºç™¼ï¼Œé€†æ™‚é˜é€›åˆ°é›™å¿ƒçŸ³æ»¬å°±å·®ä¸å¤šäº†ï¼Œè·¯ä¸Šé‚„æœ‰å±±ç¾Šï¼Œå±±ç¾Šçš„çœ¼ç›çœŸçš„æŒºç‰¹åˆ¥çš„</p>
<p>éƒµå±€æœ‰å¿ƒå‹çš„éƒµç­’ï¼Œçµæœæ„å¤–çš„æ¨¸ç´ ï¼Œæ„Ÿè¦ºæœ‰äº›è½å·®ï¼Œä¸ƒç¾å¸½æŒºæœ‰æ„æ€çš„ä¸Šé¢å°±ä¸ƒå€‹ç¾å­—ï¼Œå¥½ä¸€å€‹ä¸ƒç¾</p>
<h2 id="å°é›»å†°æ£’"><a href="#å°é›»å†°æ£’" class="headerlink" title="å°é›»å†°æ£’"></a>å°é›»å†°æ£’</h2><p>æœ€ä¾¿å®œçš„å†°æ£’å°±æ˜¯åœ¨å°é›»ï¼Œæ¾æ¹–çš„å°–å±±é›»å» ä¹Ÿæœ‰å°é›»å†°æ£’ï¼Œä¸éæˆ‘æŒºæ„å¤–çš„ï¼Œå†°æ£’åœ¨è­¦è¡›å®¤è²©è³£ï¼Œä¸éä¸€æ20çœŸçš„ä¾¿å®œ</p>
<h2 id="æ‘©è¥¿åˆ†æµ·"><a href="#æ‘©è¥¿åˆ†æµ·" class="headerlink" title="æ‘©è¥¿åˆ†æµ·"></a>æ‘©è¥¿åˆ†æµ·</h2><p>æˆ‘å€‘å»çš„æ™‚å€™å‰›å¥½æ˜¯å¯ä»¥é–‹æ”¾çš„æ™‚æ©Ÿï¼Œä¸éä¹Ÿæ„å‘³è‘—æ²’æœ‰åªå‰©ä¸€æ¢èµ°é“ï¼Œåˆ†æµ·åˆ†å¤ªé–‹äº†ï¼Œ</p>
<p>æˆ‘é‚„ä¸ç¢ºå®šè¦ä»€éº¼æ™‚å€™å»çœ‹æœƒæ¯”è¼ƒå¥½ï¼Œæ„Ÿè¦ºè¦å‰›çµæŸé–‹æ”¾å¾Œä¸€è‡³å…©å°æ™‚æ‡‰è©²æœƒæ¯”è¼ƒå¥½çœ‹</p>
<h1 id="laravel-é–‹ç™¼"><a href="#laravel-é–‹ç™¼" class="headerlink" title="laravel é–‹ç™¼"></a>laravel é–‹ç™¼</h1><p>ç›®å‰åœ¨ä½¿ç”¨laravelçš„å¥—ä»¶é€²è¡Œé–‹ç™¼ï¼Œé è¨ˆé€™é€±è¦å°‡ä¸‰å€‹è³‡æ–™åº«çš„CRUD APIé–‹ç™¼å¥½ï¼Œä¸¦é€²å…¥ç™»å…¥APIçš„é–‹ç™¼èˆ‡å­¸ç¿’</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/19/20250919%E8%BF%91%E6%B3%81%E5%A0%B1%E5%91%8A/" data-id="cmfqbafwz00000ybodra00va3" data-title="20250919è¿‘æ³å ±å‘Š" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/diary/" rel="tag">diary</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part10" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/11/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part10/" class="article-date">
  <time class="dt-published" datetime="2025-09-11T04:52:35.000Z" itemprop="datePublished">2025-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/11/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part10/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part10</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Seederå»ºç«‹è³‡æ–™"><a href="#Seederå»ºç«‹è³‡æ–™" class="headerlink" title="Seederå»ºç«‹è³‡æ–™"></a>Seederå»ºç«‹è³‡æ–™</h1><p>ä¹‹å¾Œå°±æ˜¯å»ºç«‹æ¸¬è©¦ç”¨è³‡æ–™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// çµ‚ç«¯æ©Ÿ</span><br><span class="line">php artisan make:seeder UserSeeder</span><br><span class="line">php artisan make:factory UserFactory</span><br><span class="line">php artisan db:seed</span><br></pre></td></tr></table></figure>

<p>é€™éƒ¨åˆ†æœ‰ä¸‰å€‹æŒ‡ä»¤</p>
<ul>
<li>php artisan make:seeder UserSeeder<br>â¡ï¸ å»ºç«‹ä¸€å€‹ Seeder é¡åˆ¥ï¼Œç”¨ä¾†å®šç¾©è¦å¡é€²è³‡æ–™åº«çš„ã€Œå‡è³‡æ–™ã€ã€‚<br>ç”¢ç”Ÿå¾Œæœƒåœ¨ database&#x2F;seeders&#x2F;UserSeeder.php è£¡é¢ï¼Œé€šå¸¸ç”¨ä¾†å»ºç«‹ç¬¬ä¸€ç­†çš„ç®¡ç†è€…è³‡æ–™</li>
<li>php artisan make:factory UserFactory<br>â¡ï¸ å»ºç«‹ä¸€å€‹ Factory é¡åˆ¥ï¼Œç”¨ä¾†è‡ªå‹•ç”Ÿæˆå¤§é‡çš„å‡è³‡æ–™ï¼ˆé€šå¸¸æ­é… Faker å¥—ä»¶ï¼‰ã€‚</li>
<li>php artisan db:seed<br>â¡ï¸ åŸ·è¡Œ æ‰€æœ‰ Seederï¼ˆæˆ–æŒ‡å®š Seederï¼‰ä¾†æŠŠè³‡æ–™å¯«é€²è³‡æ–™åº«ã€‚</li>
</ul>
<p>é€™æ˜¯æˆ‘å»ºç«‹ç¬¬ä¸€ç­†è³‡æ–™çš„Seeder</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace Database\Seeders;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Console\Seeds\WithoutModelEvents;</span><br><span class="line">use Illuminate\Database\Seeder;</span><br><span class="line"></span><br><span class="line">class UserSeeder extends Seeder</span><br><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * Run the database seeds.</span><br><span class="line">     */</span><br><span class="line">    public function run(): void</span><br><span class="line">    &#123;</span><br><span class="line">        User::create([</span><br><span class="line">            &#x27;user_id&#x27; =&gt; &#x27;niki&#x27;,</span><br><span class="line">            &#x27;password_hash&#x27; =&gt; bcrypt(&#x27;123456&#x27;),</span><br><span class="line">            &#x27;nickname&#x27; =&gt; &#x27;çƒé¾œ&#x27;,</span><br><span class="line">            &#x27;weight&#x27; =&gt; 77.5,</span><br><span class="line">            &#x27;status&#x27; =&gt; &#x27;active&#x27;,</span><br><span class="line">            &#x27;last_login_at&#x27; =&gt; now(),</span><br><span class="line">            &#x27;password_change_at&#x27; =&gt; now(),</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€™æ™‚å€™å‡ºç¾äº†æ„å¤–çš„æ’æ›²ï¼Œæ™‚é–“èˆ‡æˆ‘å»ºç«‹çš„æ™‚é–“ä¸åŒ<br>æ™‚é–“å·®äº†8å°æ™‚ï¼Œæ„Ÿè¦ºæ‡‰è©²æ˜¯æ™‚å€è¨­å®šå•é¡Œ</p>
<p>æ„›é†¬è¡¨ç¤ºæˆ‘æ¨æ¸¬çš„æ²’éŒ¯æ˜¯config&#x2F;app.phpçš„æ™‚å€è¨­å®šå•é¡Œ<br>å°‡<br>â€˜timezoneâ€™ &#x3D;&gt; â€˜UTCâ€™,<br>æ”¹ç‚º<br>â€˜timezoneâ€™ &#x3D;&gt; â€˜Asia&#x2F;Taipeiâ€™,</p>
<p>é€™æ¨£å»ºç«‹çš„è³‡æ–™æ™‚é–“å°±æ˜¯æˆ‘æŒ‡å®šæ™‚å€çš„æ™‚é–“äº†</p>
<h1 id="Controller-è™•ç†ä½¿ç”¨è€…è«‹æ±‚ï¼ˆWeb-æˆ–-APIï¼‰ï¼Œèª¿ç”¨-Model-åšè³‡æ–™åº«æ“ä½œï¼Œæœ€å¾Œå›å‚³çµæœ"><a href="#Controller-è™•ç†ä½¿ç”¨è€…è«‹æ±‚ï¼ˆWeb-æˆ–-APIï¼‰ï¼Œèª¿ç”¨-Model-åšè³‡æ–™åº«æ“ä½œï¼Œæœ€å¾Œå›å‚³çµæœ" class="headerlink" title="Controller : è™•ç†ä½¿ç”¨è€…è«‹æ±‚ï¼ˆWeb æˆ– APIï¼‰ï¼Œèª¿ç”¨ Model åšè³‡æ–™åº«æ“ä½œï¼Œæœ€å¾Œå›å‚³çµæœ"></a>Controller : è™•ç†ä½¿ç”¨è€…è«‹æ±‚ï¼ˆWeb æˆ– APIï¼‰ï¼Œèª¿ç”¨ Model åšè³‡æ–™åº«æ“ä½œï¼Œæœ€å¾Œå›å‚³çµæœ</h1><p>é€éartisan ç”ŸæˆController</p>
<p>é€™æ™‚æœƒæœ‰å…©ç¨®æ¨¡çµ„å¯ä»¥é¸æ“‡</p>
<ul>
<li>Resource Controllerï¼ˆ7 å€‹æ–¹æ³•ï¼‰ã€é€šå¸¸æ”¾åœ¨ web.php</li>
</ul>
<ol>
<li>index() â€“ é¡¯ç¤ºè³‡æºåˆ—è¡¨</li>
<li>create() â€“ é¡¯ç¤ºå»ºç«‹æ–°è³‡æºçš„è¡¨å–®</li>
<li>store() â€“ å„²å­˜æ–°å»ºç«‹çš„è³‡æº</li>
<li>show($id) â€“ é¡¯ç¤ºå–®ä¸€è³‡æºå…§å®¹</li>
<li>edit($id) â€“ é¡¯ç¤ºç·¨è¼¯è³‡æºçš„è¡¨å–®</li>
<li>update($id) â€“ æ›´æ–°æ—¢æœ‰çš„è³‡æº</li>
<li>destroy($id) â€“ åˆªé™¤è³‡æº</li>
</ol>
<ul>
<li>API resource controllerï¼ˆ5 å€‹æ–¹æ³•ï¼‰ã€é€šå¸¸æ”¾åœ¨ api.phpä¸­(éœ€è¦å¦å¤–å»ºç«‹)</li>
</ul>
<ol>
<li>index() â€“ åˆ—è¡¨</li>
<li>store() â€“ æ–°å¢</li>
<li>show($id) â€“ æŸ¥çœ‹</li>
<li>update($id) â€“ æ›´æ–°</li>
<li>destroy($id) â€“ åˆªé™¤</li>
</ol>
<p>åˆ†åˆ¥åœ¨æ—¢æœ‰çš„maker:controllerä¹‹å¾ŒåŠ ä¸Š â€“resourceæˆ–æ˜¯â€“api</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:controller UserController // æœ€é™½æ˜¥çš„æŒ‡ä»¤</span><br><span class="line">php artisan make:controller ExerciseTypeController --resource //esource Controllerç‰ˆ</span><br><span class="line">php artisan make:controller ExerciseRecordController --api //API resource controller</span><br></pre></td></tr></table></figure>
<p>æˆ‘é€™é‚Šæ˜¯ä½¿ç”¨API resourceï¼Œæ‰€ä»¥ä¹‹å¾Œæœƒåœ¨routesæ–°å»ºä¸€å€‹api.phpçš„æ–‡ä»¶</p>
<h1 id="APIè·¯ç”±å»ºç«‹"><a href="#APIè·¯ç”±å»ºç«‹" class="headerlink" title="APIè·¯ç”±å»ºç«‹"></a>APIè·¯ç”±å»ºç«‹</h1><p>Laravel çš„ routes&#x2F;web.php å’Œ routes&#x2F;api.php éƒ½æ˜¯ç”¨ä¾†å®šç¾©è·¯ç”±ï¼Œä½†è¨­è¨ˆä¸Šæœ‰å¹¾å€‹é‡è¦çš„å·®åˆ¥ï¼š</p>
<p>ç°¡å–®çš„èªª<br>web.php &#x3D; å‚³çµ±ç¶²ç«™ï¼ˆæœ‰ sessionã€æœ‰ CSRFã€ç€è¦½å™¨å°å‘ï¼‰<br>api.php &#x3D; APIï¼ˆstatelessã€JSON å›æ‡‰ã€çµ¦å‰ç«¯æˆ–æ‰‹æ©Ÿç”¨ï¼‰</p>
<p>åŸºæœ¬ä¸Šåœ¨controllerå»ºç«‹çš„æ–¹æ³•å¿…é ˆé€ä¸€åœ¨api.phpä¸Šåšè¨­å®š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Route::get(&#x27;/users&#x27;, [UserController::class, &#x27;index&#x27;]);</span><br><span class="line">Route::get(&#x27;/users/&#123;id&#125;&#x27;, [UserController::class, &#x27;show&#x27;]);</span><br><span class="line">Route::post(&#x27;/users&#x27;, [UserController::class, &#x27;store&#x27;]);</span><br><span class="line">Route::put(&#x27;/users/&#123;id&#125;&#x27;, [UserController::class, &#x27;update&#x27;]);</span><br><span class="line">Route::delete(&#x27;/users/&#123;id&#125;&#x27;, [UserController::class, &#x27;destroy&#x27;]);</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¦‚æœåªæœ‰API resource controlleré è¨­çš„é‚£äº”å€‹æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨Route::apiResourceä¾†è™•ç†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::apiResource(&#x27;users&#x27;, UserController::class);</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„api.phpå°±æœƒåƒé€™æ¨£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">use App\Http\Controllers\UserController;</span><br><span class="line">use App\Http\Controllers\ExerciseTypeController;</span><br><span class="line">use App\Http\Controllers\ExerciseRecordController;</span><br><span class="line">use Illuminate\Support\Facades\Route;</span><br><span class="line"></span><br><span class="line">Route::apiResource(&#x27;users&#x27;, UserController::class);</span><br><span class="line">Route::apiResource(&#x27;exercise-types&#x27;, ExerciseTypeController::class);</span><br><span class="line">Route::apiResource(&#x27;exercise-records&#x27;, ExerciseRecordController::class);</span><br></pre></td></tr></table></figure>

<h1 id="å°‡api-phpæ›é€²è·¯ç”±ç³»çµ±"><a href="#å°‡api-phpæ›é€²è·¯ç”±ç³»çµ±" class="headerlink" title="å°‡api.phpæ›é€²è·¯ç”±ç³»çµ±"></a>å°‡api.phpæ›é€²è·¯ç”±ç³»çµ±</h1><p>æœ€å¾Œåœ¨bootstrap&#x2F;app.phpä¸­åŠ ä¸Š </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">api: __DIR__.&#x27;/../routes/api.php&#x27;,</span><br></pre></td></tr></table></figure>
<p>æŠŠ api.php é€™å€‹æª”æ¡ˆæ›é€²æ•´å€‹è·¯ç”±ç³»çµ±<br>bootstrap&#x2F;app.php</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">use App\Http\Middleware\HandleAppearance;</span><br><span class="line">use App\Http\Middleware\HandleInertiaRequests;</span><br><span class="line">use Illuminate\Foundation\Application;</span><br><span class="line">use Illuminate\Foundation\Configuration\Exceptions;</span><br><span class="line">use Illuminate\Foundation\Configuration\Middleware;</span><br><span class="line">use Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets;</span><br><span class="line"></span><br><span class="line">return Application::configure(basePath: dirname(__DIR__))</span><br><span class="line">    -&gt;withRouting(</span><br><span class="line">        web: __DIR__.&#x27;/../routes/web.php&#x27;,</span><br><span class="line">        api: __DIR__.&#x27;/../routes/api.php&#x27;,//åŠ ä¸Šé€™è¡Œ</span><br><span class="line">        commands: __DIR__.&#x27;/../routes/console.php&#x27;,</span><br><span class="line">        health: &#x27;/up&#x27;,</span><br><span class="line">    )</span><br><span class="line">    -&gt;withMiddleware(function (Middleware $middleware) &#123;</span><br><span class="line">        $middleware-&gt;encryptCookies(except: [&#x27;appearance&#x27;, &#x27;sidebar_state&#x27;]);</span><br><span class="line"></span><br><span class="line">        $middleware-&gt;web(append: [</span><br><span class="line">            HandleAppearance::class,</span><br><span class="line">            HandleInertiaRequests::class,</span><br><span class="line">            AddLinkHeadersForPreloadedAssets::class,</span><br><span class="line">        ]);</span><br><span class="line">    &#125;)</span><br><span class="line">    -&gt;withExceptions(function (Exceptions $exceptions) &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;)-&gt;create();</span><br></pre></td></tr></table></figure>

<h1 id="é©—è­‰"><a href="#é©—è­‰" class="headerlink" title="é©—è­‰"></a>é©—è­‰</h1><p>é€™å¯¦åœ¨çµ‚ç«¯æ©Ÿä¸ŠåŸ·è¡ŒæŒ‡ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan route:list --path=api</span><br></pre></td></tr></table></figure>
<p>å°±æœƒé¡¯ç¤ºå‡ºå‰›å‰›è¨­å®šçš„15å€‹apiè·¯ç”±</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">GET|HEAD        api/exercise-records .......................... exercise-records.index â€º ExerciseRecordController@index</span><br><span class="line">  POST            api/exercise-records .......................... exercise-records.store â€º ExerciseRecordController@store</span><br><span class="line">  GET|HEAD        api/exercise-records/&#123;exercise_record&#125; .......... exercise-records.show â€º ExerciseRecordController@show</span><br><span class="line">  PUT|PATCH       api/exercise-records/&#123;exercise_record&#125; ...... exercise-records.update â€º ExerciseRecordController@update</span><br><span class="line">  DELETE          api/exercise-records/&#123;exercise_record&#125; .... exercise-records.destroy â€º ExerciseRecordController@destroy</span><br><span class="line">  GET|HEAD        api/exercise-types ................................ exercise-types.index â€º ExerciseTypeController@index</span><br><span class="line">  POST            api/exercise-types ................................ exercise-types.store â€º ExerciseTypeController@store</span><br><span class="line">  GET|HEAD        api/exercise-types/&#123;exercise_type&#125; .................. exercise-types.show â€º ExerciseTypeController@show</span><br><span class="line">  PUT|PATCH       api/exercise-types/&#123;exercise_type&#125; .............. exercise-types.update â€º ExerciseTypeController@update</span><br><span class="line">  DELETE          api/exercise-types/&#123;exercise_type&#125; ............ exercise-types.destroy â€º ExerciseTypeController@destroy</span><br><span class="line">  GET|HEAD        api/users .......................................................... users.index â€º UserController@index</span><br><span class="line">  POST            api/users .......................................................... users.store â€º UserController@store</span><br><span class="line">  GET|HEAD        api/users/&#123;user&#125; ..................................................... users.show â€º UserController@show</span><br><span class="line">  PUT|PATCH       api/users/&#123;user&#125; ................................................. users.update â€º UserController@update</span><br><span class="line">  DELETE          api/users/&#123;user&#125; ............................................... users.destroy â€º UserController@destroy</span><br><span class="line"></span><br><span class="line">                                                                                                      Showing [15] routes</span><br></pre></td></tr></table></figure>

<p>é€™æ¨£å°±ä»£è¡¨ä½ çš„apiæ¶è¨­æˆåŠŸï¼Œå¯ä»¥å•Ÿå‹•serverï¼Œç”¨postmanåšæ¸¬è©¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan serve //å•Ÿå‹•ä¼ºæœå™¨</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/11/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part10/" data-id="cmff06xkv0000fdbo1mym9i5s" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part10" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part09" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/09/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part09/" class="article-date">
  <time class="dt-published" datetime="2025-09-09T02:44:08.000Z" itemprop="datePublished">2025-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/09/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part09/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part09</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="å»ºç«‹database-sqlite"><a href="#å»ºç«‹database-sqlite" class="headerlink" title="å»ºç«‹database.sqlite"></a>å»ºç«‹database.sqlite</h1><p>è¨­å®šå¥½ Migrationsæª”æ¡ˆä¹‹å¾Œï¼Œå°±è¦é–‹å§‹å»ºç«‹database.sqliteçš„å…§å®¹äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//çµ‚ç«¯æ©Ÿ</span><br><span class="line">php artisan migrate</span><br></pre></td></tr></table></figure>

<p>é€™é‚Šå¯èƒ½æœƒé‡ä¸Šçš„å•é¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//çµ‚ç«¯æ©Ÿå›æ‡‰</span><br><span class="line">2025_08_28_030252_create_exercise_records_table ............................ 2.85ms DONE</span><br><span class="line">2025_08_28_030252_create_exercise_types_table .............................. 0.48ms DONE</span><br></pre></td></tr></table></figure>

<p>ä»”ç´°çœ‹çµ‚ç«¯æ©Ÿçš„å›è¦†å¯ä»¥ç™¼ç¾ï¼Œåªæœ‰å»ºç«‹å…©å€‹tableçš„è¨Šæ¯</p>
<p>æˆ‘ç”¨ sqlite3 æª¢æŸ¥ database.sqliteå…§çš„tableï¼Œç™¼ç¾user tableæ˜¯æœ‰å»ºç«‹çš„ï¼Œä½†æ˜¯å…§å®¹æ˜¯laravelå»ºç«‹çš„é è¨­å…§å®¹<br>é‚„æœ‰ä¸€äº›ä¸èªè­˜çš„tableï¼Œæƒ³å¿…é€™äº›éƒ½æ˜¯åŸæœ¬é è¨­å»ºç«‹çš„tableï¼Œæ­¤æ™‚å›å»çœ‹Migrationsè³‡æ–™å¤¾å…§çš„æª”æ¡ˆï¼Œé‚£äº›ä¸èªè­˜çš„table nameè·Ÿéƒ½å°ä¸Šäº†</p>
<p>é€™æ™‚å€™æ„›é†¬å»ºè­°æˆ‘ä¸‹é”php artisan migrate:refreshæŒ‡ä»¤ï¼Œ<br>å•é¡Œä¾†äº†ï¼Œå› ç‚ºæˆ‘çš„migrateæª”æ¡ˆæœ‰å‹•éä¸€äº›è©²dropçš„tableæ²’å¯«é€²æŒ‡ä»¤è£¡é¢ï¼Œæœƒè®“é€™å€‹æ“ä½œä¸å®Œæ•´ç”šè‡³æœƒå‡ºç¾éŒ¯èª¤<br>æ­£ç¢ºçš„æµç¨‹é€™å¯èƒ½è¦å°migrateé€²è¡Œä¿®æ”¹å‰ï¼Œå…ˆæŠŠé è¨­çš„tableçµ¦dropæ‰æ‰æ˜¯<br>ç¾åœ¨å› ç‚ºæ˜¯å‰›é–‹ç™¼éšæ®µï¼Œå¯ä»¥ç›´æ¥æŠŠè³‡æ–™ç æ‰é‡å»º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm database/database.sqlite</span><br><span class="line">touch database/database.sqlite</span><br><span class="line">php artisan migrate</span><br></pre></td></tr></table></figure>
<p>é€™æ¨£æˆ‘çš„database.sqliteä¹Ÿç®—æ˜¯å»ºç«‹å¥½äº†</p>
<h1 id="å»ºç«‹model"><a href="#å»ºç«‹model" class="headerlink" title="å»ºç«‹model"></a>å»ºç«‹model</h1><p>ä¹‹å‰åœ¨part05æœ‰æåˆ°ä¸€èˆ¬é–‹ç™¼çš„æ­¥é©Ÿï¼ˆå…ˆ migration å¾Œ modelï¼‰ï¼Œé›–ç„¶æˆ‘å¿˜è¨˜å…ˆå»è™•ç†seederçš„äº‹å‹™ï¼Œ<br>ä¸æ„å¤–çš„å‡ºäº†å¾ˆå¤šbugï¼Œæ‰å›ä¾†æ¢è¨æ˜¯å“ªé‚Šå‡ºå•é¡Œï¼ŒåŸä¾†æ˜¯æˆ‘æ¼äº†modelé€™ä¸€æ­¥</p>
<p>ä¹‹å‰ä¹Ÿèªªäº†modelæ˜¯æ“ä½œè³‡æ–™åº«çš„å…¥å£ï¼Œæœƒç”¨ä¾†å¯« æŸ¥è©¢ã€é—œè¯ã€è¦å‰‡ ç­‰é‚è¼¯ï¼Œå…¶å¯¦ä¸ç²¾ç¢ºã€‚<br>modelModel æ˜¯è³‡æ–™è¡¨çš„ PHP ä»£è¡¨ï¼Œå®ƒè² è²¬ï¼š</p>
<ul>
<li>è·Ÿè³‡æ–™è¡¨å°æ‡‰</li>
<li>è®€å–è³‡æ–™ã€å¯«å…¥è³‡æ–™</li>
<li>å®šç¾©æ¬„ä½å¯æ‰¹é‡å¯«å…¥($fillable)</li>
<li>è¨­å®šè³‡æ–™è¡¨é—œè¯ï¼ˆhasManyã€belongsToâ€¦ï¼‰<br>æ›å¥è©±èªªï¼ŒModel å°±æ˜¯æ“ä½œè³‡æ–™åº«çš„ã€Œç‰©ä»¶åŒ–æ©‹æ¨‘ã€ã€‚</li>
</ul>
<p>ç¾åœ¨app&#x2F;Modelè³‡æ–™å¤¾æœ‰ä¸‰å€‹æª”æ¡ˆ<br>æ­¤æ™‚app&#x2F;Modelå°±æœƒæœ‰ä¸‰å€‹æª”æ¡ˆ<br>â”Œ ExerciseRecord.php<br>â”‚ ExerciseType.php<br>â”” User.php</p>
<p>é€™æ™‚å€™è¦åˆ†å…©éƒ¨åˆ†ä¾†å­¸ç¿’ï¼Œuserè·Ÿuserä»¥å¤–çš„<br>å› ç‚ºUser Model æ¯”æ™®é€š Model å¤šäº† ç™»å…¥&#x2F;èªè­‰åŠŸèƒ½ã€‚<br>å­¸ç¿’User Modelå‰æˆ‘æœƒå»ºè­°å…ˆå­¸ç¿’æ™®é€šçš„model</p>
<h2 id="ä¸€èˆ¬çš„Model"><a href="#ä¸€èˆ¬çš„Model" class="headerlink" title="ä¸€èˆ¬çš„Model"></a>ä¸€èˆ¬çš„Model</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Eloquent\Model;</span><br><span class="line"></span><br><span class="line">class ExerciseType extends Model</span><br><span class="line">&#123;</span><br><span class="line">    //</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™æ˜¯é è¨­çš„modelæ¨£å¼ï¼Œå»ºç«‹ä¸€å€‹classä¸¦ç¹¼æ‰¿Model(Illuminate\Database\Eloquent\Model)</p>
<ul>
<li>å…è¨±å»ºç«‹å‡è³‡æ–™use HasFactory</li>
</ul>
<p>use HasFactory; â†’ è®“é€™å€‹ Model å¯ä»¥ç”¨ Factory ç”Ÿæˆå‡è³‡æ–™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Eloquent\Model;</span><br><span class="line">// Factoryå‡è³‡æ–™</span><br><span class="line">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br><span class="line"></span><br><span class="line">class ExerciseType extends Model</span><br><span class="line">&#123;</span><br><span class="line">    use HasFactory;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>$fillableï¼ˆå…è¨±æ‰¹é‡å¯«å…¥çš„æ¬„ä½ï¼‰&#x2F;$guardedï¼ˆæ‹’çµ•æ‰¹é‡å¯«å…¥çš„æ¬„ä½ï¼‰</li>
</ul>
<p>é€™å…©å€‹æ˜¯ç›¸å°ç«‹çš„å­˜åœ¨ï¼Œé€šå¸¸å»ºè­°ä½¿ç”¨$fillable ä¾†æ˜ç¢ºæ§åˆ¶å®‰å…¨æ¬„ä½<br>ç¢ºä¿ç”¨ create() æˆ– update() æ‰¹é‡å¯«å…¥æ™‚ï¼Œåªæœ‰ $fillable è£¡çš„æ¬„ä½æœƒè¢«å¯«å…¥<br>è€Œ$guarded æ˜¯è·Ÿ $fillable åéä¾†ç”¨ï¼Œæ˜ç¢ºçš„æ‹’çµ•æ‰¹é‡å¯«å…¥å“ªäº›æ¬„ä½ï¼Œé€šå¸¸éƒ½æ˜¯ä»¥å€¼æœƒè‡ªå‹•ç”Ÿæˆçš„æ¬„ä½å±…å¤š<br>å†æ¬¡å¼·èª¿ï¼šå»ºè­°ä½¿ç”¨$fillable ä¾†æ˜ç¢ºæ§åˆ¶å®‰å…¨æ¬„ä½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Eloquent\Model;</span><br><span class="line">// Factoryå‡è³‡æ–™</span><br><span class="line">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br><span class="line"></span><br><span class="line">class ExerciseType extends Model</span><br><span class="line">&#123;</span><br><span class="line">    use HasFactory;</span><br><span class="line"></span><br><span class="line">    protected $fillable = [&#x27;name&#x27;, &#x27;weight_unit&#x27;, &#x27;calories_per_unit&#x27;, &#x27;description&#x27;, &#x27;updated_by&#x27;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>$tableï¼ˆè‡ªè¨‚è³‡æ–™è¡¨åç¨±ï¼‰<br>Laravel é è¨­æœƒç”¨ Model åç¨±å°å¯«åŠ è¤‡æ•¸ ç•¶è³‡æ–™è¡¨åç¨±<br>ä¾‹ï¼šUser â†’ users<br>å¦‚æœè³‡æ–™è¡¨åç¨±ä¸ç¬¦åˆLaravel é è¨­è¦å‰‡ï¼Œå°±è¦æŒ‡å®š $<br>ä¾†æ˜ç¢ºæ§åˆ¶å®‰å…¨æ¬„ä½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Eloquent\Model;</span><br><span class="line">// Factoryå‡è³‡æ–™</span><br><span class="line">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br><span class="line"></span><br><span class="line">class ExerciseType extends Model</span><br><span class="line">&#123;</span><br><span class="line">    use HasFactory;</span><br><span class="line"></span><br><span class="line">    protected $fillable = [&#x27;name&#x27;, &#x27;weight_unit&#x27;, &#x27;calories_per_unit&#x27;, &#x27;description&#x27;, &#x27;updated_by&#x27;];</span><br><span class="line"></span><br><span class="line">    protected $table = &#x27;exercise_types&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>$primaryKeyï¼ˆè‡ªè¨‚ä¸»éµæ¬„ä½ï¼‰<br>é è¨­ä¸»éµæ˜¯ id<br>å¦‚æœä½ çš„è³‡æ–™è¡¨ä¸»éµä¸æ˜¯ idï¼Œè¦è¨­å®š $primaryKey</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protected $primaryKey = &#x27;user_id&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Timestamps<br>Laravel é è¨­è‡ªå‹•ç¶­è­·ï¼š<br>created_at<br>updated_at<br>å¦‚æœè³‡æ–™è¡¨æ²’æœ‰é€™å…©å€‹æ¬„ä½ï¼Œå¯ä»¥é—œé–‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public $timestamps = false;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é—œè¯é—œä¿‚ï¼ˆRelationshipsï¼‰</p>
</li>
</ul>
<p>Eloquent æ”¯æ´å¤šç¨®è³‡æ–™è¡¨é–“çš„é—œè¯ï¼Œå¦‚ä¸€å°ä¸€ã€ä¸€å°å¤šã€å¤šå°å¤šç­‰ã€‚<br>ä¾‹å¦‚ï¼Œä¸€å°å¤šé—œè¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public function posts()</span><br><span class="line">&#123;</span><br><span class="line">    return $this-&gt;hasMany(Post::class);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>é€™å°±åƒERDè¡¨ç¤ºtableé–“çš„é—œä¿‚ï¼Œä¹Ÿæ˜¯èªªæ˜å¤–éµçš„é€£çµ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace App\Models;</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Eloquent\Model;</span><br><span class="line">// Factoryå‡è³‡æ–™</span><br><span class="line">use Illuminate\Database\Eloquent\Factories\HasFactory;</span><br><span class="line"></span><br><span class="line">class ExerciseType extends Model</span><br><span class="line">&#123;</span><br><span class="line">    use HasFactory;</span><br><span class="line"></span><br><span class="line">    protected $fillable = [&#x27;name&#x27;, &#x27;weight_unit&#x27;, &#x27;calories_per_unit&#x27;, &#x27;description&#x27;, &#x27;updated_by&#x27;];</span><br><span class="line"></span><br><span class="line">    protected $table = &#x27;exercise_types&#x27;;</span><br><span class="line"></span><br><span class="line">    public function exerciseRecords()</span><br><span class="line">    &#123;</span><br><span class="line">      return $this-&gt;hasMany(ExerciseRecord::class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="userçš„Model"><a href="#userçš„Model" class="headerlink" title="userçš„Model"></a>userçš„Model</h2><ul>
<li>$hidden è¨­å®š</li>
</ul>
<p>useré€™æ˜¯ç®¡æ§ä½¿ç”¨æ¼²ç™»å…¥è³‡è¨Šçš„tableï¼Œæœƒæœ‰ä¸€äº›å®‰å…¨çš„æ©Ÿåˆ¶</p>
<p>åƒæ˜¯ ä¸æœƒè¢«åºåˆ—åŒ–çš„æ¬„ä½ $hidden</p>
<p>é€™é‚Šæœƒè¦ç¯„å“ªäº›æ¬„ä½ä¸æœƒè¢«åºåˆ—åŒ–ï¼Œä¹Ÿå°±æ˜¯ç„¡æ³•è½‰æ›æˆJSONå¤–å‚³</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protected $hidden = [&#x27;password_hash&#x27;];</span><br></pre></td></tr></table></figure>


<h2 id="å…¶ä»–æ²’æœ‰æåˆ°çš„-Casts-å‹åˆ¥è½‰æ›"><a href="#å…¶ä»–æ²’æœ‰æåˆ°çš„-Casts-å‹åˆ¥è½‰æ›" class="headerlink" title="å…¶ä»–æ²’æœ‰æåˆ°çš„ Casts å‹åˆ¥è½‰æ›"></a>å…¶ä»–æ²’æœ‰æåˆ°çš„ Casts å‹åˆ¥è½‰æ›</h2><p>ç¢ºä¿æŸäº›æ¬„ä½ï¼Œåœ¨å¯«å…¥è³‡æ–™çš„æ™‚å€™æœƒè‡ªå‹•è½‰æ›å‹åˆ¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">protected function casts(): array</span><br><span class="line">&#123;</span><br><span class="line">    return [</span><br><span class="line">        &#x27;last_login_at&#x27; =&gt; &#x27;datetime&#x27;,</span><br><span class="line">        &#x27;password_change_at&#x27; =&gt; &#x27;datetime&#x27;,</span><br><span class="line">        &#x27;weight&#x27; =&gt; &#x27;decimal:2&#x27;,</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/09/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part09/" data-id="cmfcay0qr0000jbbohb9v0kvm" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part09" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part08" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/08/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part08/" class="article-date">
  <time class="dt-published" datetime="2025-09-08T09:00:00.000Z" itemprop="datePublished">2025-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/08/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part08/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part08</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å»¶çºŒpart-05çš„å…§å®¹-èªè­˜migration-çºŒ"><a href="#å»¶çºŒpart-05çš„å…§å®¹-èªè­˜migration-çºŒ" class="headerlink" title="å»¶çºŒpart-05çš„å…§å®¹-èªè­˜migration-çºŒ"></a>å»¶çºŒpart-05çš„å…§å®¹-èªè­˜migration-çºŒ</h2><p>å»¶çºŒä¸Šæ¬¡èªªåˆ°çš„æˆ‘åœ¨è¦åŠƒå¥½è³‡æ–™åº«ä¹‹å¾Œï¼Œé€éä¸‹é¢ä¸‰å€‹laravelå…§å»ºçš„æŒ‡ä»¤ï¼Œåœ¨migrationè³‡æ–™å¤¾å»ºç«‹äº†ä¸‰å€‹æª”æ¡ˆ(åš´æ ¼ä¾†èªªæ˜¯å…©å€‹useræ˜¯å·²ç¶“å…§å»ºçš„)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//çµ‚ç«¯æ©Ÿ</span><br><span class="line">php artisan make:model User -m</span><br><span class="line">php artisan make:model ExerciseType -m</span><br><span class="line">php artisan make:model ExerciseRecord -m</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">use Illuminate\Database\Migrations\Migration;</span><br><span class="line">use Illuminate\Database\Schema\Blueprint;</span><br><span class="line">use Illuminate\Support\Facades\Schema;</span><br><span class="line"></span><br><span class="line">return new class extends Migration</span><br><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * Run the migrations.</span><br><span class="line">     */</span><br><span class="line">    public function up(): void</span><br><span class="line">    &#123;</span><br><span class="line">        Schema::create(&#x27;exercise_records&#x27;, function (Blueprint $table) &#123;</span><br><span class="line">            $table-&gt;id();</span><br><span class="line">            $table-&gt;timestamps();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Reverse the migrations.</span><br><span class="line">     */</span><br><span class="line">    public function down(): void</span><br><span class="line">    &#123;</span><br><span class="line">        Schema::dropIfExists(&#x27;exercise_records&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å…ˆå‰æœ‰æåˆ°up()è·Ÿdown()çš„ç”¨é€”<br>ç¾åœ¨æ¥è‘—èªªä»–å€‘å¯¦éš›ä¸Šåšäº†ä»€éº¼</p>
<p>é¦–å…ˆå…ˆå‰µç«‹ä¸€å€‹table</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Schema::create(&#x27;tableåç¨±&#x27;,&#x27;å»ºç«‹tableæ¬„ä½è³‡æ–™çš„ç´°éƒ¨å‹•ä½œ&#x27;)</span><br></pre></td></tr></table></figure>
<p>ä¹‹å¾Œåœ¨è¦ç¯„é€™å€‹tableè£¡é¢æœ‰é‚£äº›æ¬„ä½ï¼Œæ¬„ä½çš„å‹åˆ¥èˆ‡é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯å¾Œé¢çš„function</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function (Blueprint $table) &#123;</span><br><span class="line">            $table-&gt;id();</span><br><span class="line">            $table-&gt;timestamps();</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸€é–‹å§‹ä»–å…ˆè¦ç¯„åƒæ•¸ $table æ˜¯ä¸€å€‹ Blueprint ç‰©ä»¶ï¼Œ<br>é€™æ¨£å‡½å¼å…§éƒ¨å°±èƒ½ä½¿ç”¨Blueprintçš„method<br>å†ä¾†å°±æ˜¯å…©å€‹æ¯”è¼ƒå¸¸çœ‹çš„method id()è·Ÿtimestamps()<br>é€™å…©å€‹éƒ½æ˜¯èªæ³•ç³–ï¼ŒæŠŠå¸¸ç”¨æ¬„ä½çš„å»ºç«‹ï¼Œå°è£æˆä¸€å€‹æ–¹ä¾¿çš„æ–¹æ³•<br>id()å…¶å¯¦æ˜¯bigIncrements(â€˜idâ€™);<br>ç›¸ç•¶æ–¼SQLå»ºç«‹æ¬„ä½æ™‚çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY</span><br></pre></td></tr></table></figure>
<p>è€Œtimestamps()æ˜¯å»ºç«‹created_at èˆ‡ updated_atå…©å€‹æ¬„ä½ä¸”å¯ä»¥å­˜æ”¾NULLå€¼ï¼Œ<br>ç­‰åƒ¹æ–¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$table-&gt;timestamp(&#x27;created_at&#x27;)-&gt;nullable();</span><br><span class="line">$table-&gt;timestamp(&#x27;updated_at&#x27;)-&gt;nullable();</span><br></pre></td></tr></table></figure>
<p>å†ä¾†å°±æ˜¯å…¶ä»–æ²’æœ‰åœ¨é è¨­ä¸­çš„method</p>
<p>æˆ‘ä¾æ“šæˆ‘è¦å»ºç«‹tableä¾†çœ‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Table exercise_record &#123;</span><br><span class="line">  id int [primary key, increment]</span><br><span class="line">  user_id varchar(50) [ref: &gt; user.id]</span><br><span class="line">  exercise_type_id varchar(100) [ref: &gt; exercise_type.id]</span><br><span class="line">  record_time datetime</span><br><span class="line">  count int</span><br><span class="line">  unit varchar(100)</span><br><span class="line">  calories decimal(10,2)</span><br><span class="line">  created_at datetime</span><br><span class="line">  updated_at datetime</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›®å‰æœ‰å››ç¨®é¡åˆ¥varcharã€decimalã€intã€datetime</p>
<p>ä»–å€‘å°æ‡‰çš„methodæ˜¯stringã€decimalã€integerã€dateTime</p>
<p>ä»–å€‘methodçš„ç¬¬ä¸€å€‹åƒæ•¸æ˜¯æ¬„ä½åç¨±ï¼Œå¾Œé¢å°±æ˜¯å…¶ä»–çš„é™åˆ¶</p>
<p>åƒæ˜¯<br>user_id varchar(50)<br>å°±æ˜¯<br>$table-&gt;string(â€˜user_idâ€™, 50);<br>å¾Œé¢çš„50å°±æ˜¯é•·åº¦é™åˆ¶50</p>
<p>è½‰æ›å¾Œæœƒè®Šæˆé€™æ¨£ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥è«‹æ„›é†¬å¹«å¿™è½‰æ›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public function up(): void</span><br><span class="line">&#123;</span><br><span class="line">    Schema::create(&#x27;exercise_record&#x27;, function (Blueprint $table) &#123;</span><br><span class="line">        $table-&gt;id(); // id INT AUTO_INCREMENT PRIMARY KEY</span><br><span class="line">        $table-&gt;string(&#x27;user_id&#x27;, 50);</span><br><span class="line">        $table-&gt;string(&#x27;exercise_type_id&#x27;, 100);</span><br><span class="line">        $table-&gt;dateTime(&#x27;record_time&#x27;);</span><br><span class="line">        $table-&gt;integer(&#x27;count&#x27;);</span><br><span class="line">        $table-&gt;string(&#x27;unit&#x27;, 100);</span><br><span class="line">        $table-&gt;decimal(&#x27;calories&#x27;, 10, 2);</span><br><span class="line">        $table-&gt;timestamps(); // created_at, updated_at</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹å¾Œå¤–éµçš„è¨­å®šï¼Œé€™é‚Šåˆ†ç‚ºå››å€‹éƒ¨åˆ†<br>$table-&gt;foreign(â€˜user_idâ€™)	å°‡ exercise_record çš„ user_id æ¬„ä½è¨­å®šç‚ºå¤–éµ<br>-&gt;references(â€˜idâ€™)	æŒ‡å®šé€™å€‹å¤–éµè¦å°æ‡‰åˆ° users è¡¨çš„ id æ¬„ä½<br>-&gt;on(â€˜usersâ€™)	æŒ‡å®šå°æ‡‰çš„è³‡æ–™è¡¨æ˜¯ users<br>-&gt;onDelete(â€˜cascadeâ€™)	åˆªé™¤è¡Œç‚ºï¼šç•¶ users è¡¨ä¸­å°æ‡‰çš„ id è¢«åˆªé™¤æ™‚ï¼Œexercise_record è£¡å°æ‡‰çš„è³‡æ–™ä¹Ÿæœƒè¢«è‡ªå‹•åˆªæ‰ï¼ˆcascade åˆªé™¤ï¼‰</p>
<p>æ•´åˆèµ·ä¾†å°±è®Šé€™æ¨£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public function up(): void</span><br><span class="line">&#123;</span><br><span class="line">    Schema::create(&#x27;exercise_record&#x27;, function (Blueprint $table) &#123;</span><br><span class="line">        $table-&gt;id(); // id INT AUTO_INCREMENT PRIMARY KEY</span><br><span class="line">        $table-&gt;string(&#x27;user_id&#x27;, 50);</span><br><span class="line">        $table-&gt;string(&#x27;exercise_type_id&#x27;, 100);</span><br><span class="line">        $table-&gt;dateTime(&#x27;record_time&#x27;);</span><br><span class="line">        $table-&gt;integer(&#x27;count&#x27;);</span><br><span class="line">        $table-&gt;string(&#x27;unit&#x27;, 100);</span><br><span class="line">        $table-&gt;decimal(&#x27;calories&#x27;, 10, 2);</span><br><span class="line">        $table-&gt;timestamps(); // created_at, updated_at</span><br><span class="line"></span><br><span class="line">        // å¤–éµç´„æŸ</span><br><span class="line">        $table-&gt;foreign(&#x27;user_id&#x27;)-&gt;references(&#x27;id&#x27;)-&gt;on(&#x27;users&#x27;)-&gt;onDelete(&#x27;cascade&#x27;);</span><br><span class="line">        $table-&gt;foreign(&#x27;exercise_type_id&#x27;)-&gt;references(&#x27;id&#x27;)-&gt;on(&#x27;exercise_types&#x27;)-&gt;onDelete(&#x27;cascade&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>èªæ³•å»ºç«‹çš„æ™‚å€™æ„›é†¬æœ‰å°‡ä¸‰å€‹è¡¨æ ¼éƒ½åŠ ä¸Š$table-&gt;timestamps()<br>ä½†æ˜¯æˆ‘ä¸æ˜¯æ‰€æœ‰æ¬„ä½éƒ½éœ€è¦é€™å…©å€‹é …ç›®ï¼Œ<br>å°æ­¤æ„›é†¬æ˜¯é€™æ¨£çµ¦äºˆæˆ‘å»ºè­°çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å°å¤§å¤šæ•¸æ‡‰ç”¨ç¨‹å¼ä¾†èªªï¼Œä¿ç•™ $table-&gt;timestamps() æ˜¯å¾ˆæ–¹ä¾¿çš„</span><br><span class="line">å¯ä»¥ç”¨ä¾†æ’åºã€æŸ¥è©¢æœ€æ–°è³‡æ–™ã€åšå¯©è¨ˆç´€éŒ„</span><br><span class="line">è‹¥çœŸçš„ä¸éœ€è¦æ™‚é–“è¿½è¹¤ï¼Œå¯ä»¥ä¸åŠ ï¼Œmigration ä¹Ÿæœƒæ­£å¸¸é‹ä½œ</span><br></pre></td></tr></table></figure>

<p>ç°¡å–®èªªå°±æ˜¯é›–ç„¶ä¸æ˜¯å¿…è¦ï¼Œä½†æ˜¯å»ºè­°åŠ ï¼Œæˆ–è¨±æœƒæœ‰æ„æƒ³ä¸åˆ°çš„ç”¨è™•</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/08/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part08/" data-id="cmf6aoe680000jzbo6k7v2fw2" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part08" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-20250908ä¸€é€±çš„èµ·å§‹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/08/20250908%E4%B8%80%E9%80%B1%E7%9A%84%E8%B5%B7%E5%A7%8B/" class="article-date">
  <time class="dt-published" datetime="2025-09-08T05:38:37.000Z" itemprop="datePublished">2025-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/08/20250908%E4%B8%80%E9%80%B1%E7%9A%84%E8%B5%B7%E5%A7%8B/">20250908ä¸€é€±çš„èµ·å§‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="ä¸€é€±çš„ç›®æ¨™"><a href="#ä¸€é€±çš„ç›®æ¨™" class="headerlink" title="ä¸€é€±çš„ç›®æ¨™"></a>ä¸€é€±çš„ç›®æ¨™</h1><p>é€™é€±çš„å·¥ä½œå¤©åƒ…æœ‰å››å¤©ï¼Œæˆ‘æƒ³å…ˆé€élaravelå®ŒæˆSQLiteè³‡æ–™åº«çš„è¨­å®šï¼Œä»¥åŠapiçš„è¨­å®š<br>å®Œæˆä¹‹å¾Œå†å»åšMySQLçš„è³‡æ–™åº«ç¶å®š</p>
<p>åŠ æ²¹å§ï¼Œå …å®šè‡ªå·±çš„æ–¹å‘ï¼Œä¸è¦æ”¾æ£„ï¼Œå³ä½¿è¿·æƒ˜ä¹Ÿæ²’æœ‰é—œä¿‚ï¼Œ</p>
<p>çŸ¥é“è¿·æƒ˜ã€é¢å°è¿·æƒ˜ã€æœ€å¾Œå…‹æœè¿·æƒ˜</p>
<h1 id="æ”¾ä¸‹éµäººè³½"><a href="#æ”¾ä¸‹éµäººè³½" class="headerlink" title="æ”¾ä¸‹éµäººè³½"></a>æ”¾ä¸‹éµäººè³½</h1><p>é›–ç„¶åƒåŠ éµäººè³½å¯ä»¥å¼·è¿«è‡ªå·±æ¯å¤©éƒ½æœ‰æ‰€å‰é€²ï¼Œæˆ‘å€‹äººå…¶å¯¦è »èªåŒçš„ï¼Œ<br>ä½†æ˜¯ç¸½è¦ºå¾—ä¸é©åˆç¾åœ¨çš„æˆ‘ï¼Œæˆ‘çš„æ–‡ç« æ¯”è¼ƒéš¨æ€§ä¸€é»ï¼Œä¸ä¸€å®šæ¯ä¸€ç¯‡éƒ½èƒ½æ»¿è¶³åƒè³½çš„åŸºæœ¬æ ¼å¼éœ€æ±‚<br>æˆ‘æ±ºå®šä¸åƒåŠ é€™æ¬¡çš„éµäººè³½ï¼Œä½†æ˜¯æˆ‘çš„æ–‡ç« é‚„æ˜¯æœƒç¹¼çºŒå¯«ä¸‹å»ï¼Œå¯èƒ½å¹¾å¤©éƒ½åœ¨å¯«åŒä¸€ç¯‡æ–‡ç« ï¼Œæˆ–æ˜¯ä¸€ç¯‡æ–‡ç« å°±çŸ­çŸ­ä¸€ç¯‡</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/08/20250908%E4%B8%80%E9%80%B1%E7%9A%84%E8%B5%B7%E5%A7%8B/" data-id="cmfapv4ms0000kqbo4r88awye" data-title="20250908ä¸€é€±çš„èµ·å§‹" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/diary/" rel="tag">diary</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-åœæ­¢å…§è€—èˆ‡ç„¦æ…®ï¼Œè®“å¿ƒå¹³éœä¸‹ä¾†" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/05/%E5%81%9C%E6%AD%A2%E5%85%A7%E8%80%97%E8%88%87%E7%84%A6%E6%85%AE%EF%BC%8C%E8%AE%93%E5%BF%83%E5%B9%B3%E9%9D%9C%E4%B8%8B%E4%BE%86/" class="article-date">
  <time class="dt-published" datetime="2025-09-05T03:31:15.000Z" itemprop="datePublished">2025-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/05/%E5%81%9C%E6%AD%A2%E5%85%A7%E8%80%97%E8%88%87%E7%84%A6%E6%85%AE%EF%BC%8C%E8%AE%93%E5%BF%83%E5%B9%B3%E9%9D%9C%E4%B8%8B%E4%BE%86/">åœæ­¢å…§è€—èˆ‡ç„¦æ…®ï¼Œè®“å¿ƒå¹³éœä¸‹ä¾†</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="è¿‘æ³å ±å‘Š"><a href="#è¿‘æ³å ±å‘Š" class="headerlink" title="è¿‘æ³å ±å‘Š"></a>è¿‘æ³å ±å‘Š</h2><p>æœ€è¿‘æœ‰é»ç„¦æ…®ï¼Œä¹Ÿæœ‰é»æä¸èµ·å‹<br>æœ‰é»è¨å­é‚£å€‹ç‹€æ…‹çš„è‡ªå·±ï¼Œä»€éº¼äº‹éƒ½ä¸æƒ³åš<br>ä½†æ˜¯å»åˆè¦ºå¾—ä¸åšé»äº‹åˆä¸è¡Œï¼Œå¾ˆçŸ›ç›¾å§ï¼<br>æœ€å¾Œé™·å…¥å¥½åƒæœ‰åšé»äº‹æƒ…å»ä»€éº¼äº‹æƒ…éƒ½æ²’æœ‰é€²å±•çš„æ—‹æ¸¦<br>åšä¸€äº›æ²’æœ‰æ„ç¾©çš„äº‹æƒ…ï¼Œç€è¦½ä¸€äº›æ²’æœ‰æ„ç¾©çš„æ–‡ç« <br>æƒ³åœ¨åŒæº«å±¤å°‹æ‰¾èªåŒï¼Œå»ä»€éº¼éƒ½æ²’æœ‰å¾—åˆ°</p>
<p>æˆ‘æƒ³æŠŠè‡ªå·±æ•´ç†ä¸€ä¸‹ï¼ŒæŠŠè‡ªå·±è©²åšçš„ã€æƒ³åšçš„ã€ä¸åˆ‡å¯¦éš›çš„ç›®æ¨™éƒ½æ•´ç†ä¸€ä¸‹<br>æƒ³ç…©æƒ±è¦–è¦ºåŒ–ï¼Œå†å¥½å¥½çš„å»ç®¡ç†ä»–å€‘ï¼Œè®“ä»–å¾å¿ƒé ­ç§»åˆ°å…¶ä»–åœ°æ–¹</p>
<h2 id="å°æ–¼ç­†è¨˜çš„è¿·æ€"><a href="#å°æ–¼ç­†è¨˜çš„è¿·æ€" class="headerlink" title="å°æ–¼ç­†è¨˜çš„è¿·æ€"></a>å°æ–¼ç­†è¨˜çš„è¿·æ€</h2><p>ç­†è¨˜çš„æ„ç¾©åœ¨æ–¼å¹«åŠ©è‡ªå·±è¨˜éŒ„é‡è¦çš„äº‹ç‰©ï¼Œä¸è¦ä¸€é–‹å§‹å°±æƒ³è‘—é€™æ˜¯çµ¦åˆ¥äººçœ‹çš„æ±è¥¿<br>é€™æ¨£åè€Œä¸çŸ¥é“è©²å¦‚ä½•ä¸‹ç­†ï¼Œä¸å¦‚å…ˆè¨˜éŒ„è‡ªå·±çš„æƒ³æ³•ï¼Œä¹‹å¾Œå†å°‡æ¯”è¼ƒæ•´ç†æˆå®¹æ˜“è®“å…¶ä»–äººé–±è®€çš„æ–¹å¼<br>æˆ‘æ²’è¾¦æ³•åƒé‚£äº›å²å®³çš„äººä¸€æ¨£ï¼Œä¸€æ­¥åˆ°ä½ï¼Œä½†é‚£åˆå¦‚ä½•å‘¢ï¼Ÿ<br>æˆ‘éœ€è¦çš„æ˜¯é©åˆæˆ‘çš„è™•ç†äº‹æƒ…æ–¹å¼ï¼Œè€Œä¸æ˜¯æœ€ç†æƒ³ä½†æˆ‘å»åšä¸åˆ°çš„æ–¹å¼</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/05/%E5%81%9C%E6%AD%A2%E5%85%A7%E8%80%97%E8%88%87%E7%84%A6%E6%85%AE%EF%BC%8C%E8%AE%93%E5%BF%83%E5%B9%B3%E9%9D%9C%E4%B8%8B%E4%BE%86/" data-id="cmf6aoe680002jzbof5seh35p" data-title="åœæ­¢å…§è€—èˆ‡ç„¦æ…®ï¼Œè®“å¿ƒå¹³éœä¸‹ä¾†" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/diary/" rel="tag">diary</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part07" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/04/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part07/" class="article-date">
  <time class="dt-published" datetime="2025-09-04T07:19:53.000Z" itemprop="datePublished">2025-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/04/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part07/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part07</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="SQL-å»ºç«‹é™åˆ¶-SQL-Create-Constraints"><a href="#SQL-å»ºç«‹é™åˆ¶-SQL-Create-Constraints" class="headerlink" title="SQL å»ºç«‹é™åˆ¶(SQL Create Constraints)"></a>SQL å»ºç«‹é™åˆ¶(SQL Create Constraints)</h2><p>ç•¶æˆ‘åœ¨åšè³‡æ–™åº«è¦åŠƒçš„æ™‚å€™ï¼Œæƒ³è¦åœ¨idåšpkä½†æ˜¯åˆæ“”å¿ƒå¸³è™Ÿæ¬„ä½æœƒæœ‰é‡è¤‡çš„å•é¡Œï¼Œ</p>
<p>åœ¨èˆ‡äººè¨è«–ä¹‹å¾Œå¾—çŸ¥å¯ä»¥åœ¨è³‡æ–™è¡¨å»ºç«‹æ™‚çš„è¨­å®šæ¬„ä½å±¬æ€§è¨­å®šï¼Œå°±å¯ä»¥å®Œç¾çš„è§£æ±ºå•é¡Œ</p>
<p>è¶æ­¤ä¾†æ·±å…¥æ¢è¨é€™éƒ¨åˆ†çš„ç›¸é—œçŸ¥è­˜</p>
<h3 id="SQL-Constraints-æ¬„ä½é™åˆ¶ä»‹ç´¹"><a href="#SQL-Constraints-æ¬„ä½é™åˆ¶ä»‹ç´¹" class="headerlink" title="SQL Constraints æ¬„ä½é™åˆ¶ä»‹ç´¹"></a>SQL Constraints æ¬„ä½é™åˆ¶ä»‹ç´¹</h3><p>ä¸€å€‹è³‡æ–™è¡¨é™¤äº†è³‡æ–™è¡¨åç¨±èˆ‡æ¬„ä½åç¨±ã€è³‡æ–™å‹åˆ¥ä¹‹å¤–ï¼Œå…¶å¯¦é‚„æœ‰ä¸€å€‹ä¸å®¹æ˜“æœƒæ³¨æ„åˆ°çš„å±¬æ€§<br>è©²å±¬æ€§è¢«ç¨±ç‚ºconstraintï¼Œä¹Ÿå°±æ˜¯å°æ¬„ä½è³‡æ–™çš„é™åˆ¶</p>
<p>åƒæ˜¯æœ€å¸¸è¦‹çš„pk(PRIMARY KEY)å°±æ˜¯å…¶ä¸­ä¸€ç¨®constraint</p>
<p>å¸¸è¦‹çš„constraintæœ‰ä»¥ä¸‹å¹¾ç¨®</p>
<ul>
<li>NOT NULL(NN) - Ensures that a column cannot have a NULL value<br>ä¸èƒ½ç‚ºç©ºå€¼</li>
<li>UNIQUE(UQ) - Ensures that all values in a column are different<br>å”¯ä¸€å€¼ä¸èƒ½é‡è¤‡</li>
<li>PRIMARY KEY(PK) - A combination of a NOT NULL and UNIQUE. Uniquely identifies each row in a table<br>pkå”¯ä¸€çš„è­˜åˆ¥æ¬„ä½ï¼ŒæœƒåŒæ™‚æ“æœ‰NOT NULLèˆ‡UNIQUEçš„ç‰¹æ€§</li>
<li>FOREIGN KEY - Prevents actions that would destroy links between tables<br>å¤–éµï¼Œä¸»è¦æ˜¯è¦ç¯„tableé–“çš„é—œä¿‚ï¼Œç¢ºä¿tableçš„è¯ç¹«æ²’æœ‰å•é¡Œï¼Œæœ‰äº›å…¬å¸ä¸æœƒç‰¹åˆ¥å»è¨­å®šé€™å€‹é™åˆ¶ï¼Œè‡³å°‘æˆ‘åœ¨å‰å…¬å¸æ²’è¦‹é</li>
<li>CHECK - Ensures that the values in a column satisfies a specific condition<br>æª¢æŸ¥ï¼Œåœ¨è³‡æ–™å¡«å…¥æ¬„ä½å‰ï¼Œä¾è¨­å®šçš„å…§å®¹é€²è¡Œå€¼å¾—æŸ¥æ ¸è·ŸENUMæœ‰é»åƒä½†æ˜¯å½ˆæ€§æ›´å¤§</li>
<li>DEFAULT - Sets a default value for a column if no value is specified<br>é è¨­å€¼ï¼Œåœ¨å»ºç«‹æ™‚è‹¥æ˜¯æ²’æœ‰å€¼æ™‚ï¼Œæœƒä¾é è¨­å¾—è¨­å®šå¡«å…¥æŒ‡å®šçš„å€¼</li>
<li>CREATE INDEX - Used to create and retrieve data from the database very quickly<br>ç´¢å¼•ï¼Œå¯ä»¥å¢åŠ æŸ¥æ‰¾è³‡æ–™çš„é€Ÿåº¦<br>ç‰¹åˆ¥æ³¨æ„ï¼šæœ‰ç´¢å¼•çš„tableæœƒæ¯”ä¸€èˆ¬çš„tableåœ¨æ›´æ–°è³‡æ–™ä¸Šéœ€è¦æ›´å¤šçš„æ™‚é–“</li>
<li>AUTO INCREMENT - Auto-increment allows a unique number to be generated automatically when a new record is inserted into a table.<br>è‡ªå‹•å¢åŠ ç·¨è™Ÿï¼ŒåŒå¸¸é‹ç”¨åœ¨ç·¨è™Ÿæ¬„ä½çš„pkï¼Œç¢ºä¿pkçš„å”¯ä¸€ä¸é‡è¤‡</li>
</ul>
<h2 id="æ·»åŠ æ¬„ä½é™åˆ¶çš„æ–¹æ³•"><a href="#æ·»åŠ æ¬„ä½é™åˆ¶çš„æ–¹æ³•" class="headerlink" title="æ·»åŠ æ¬„ä½é™åˆ¶çš„æ–¹æ³•"></a>æ·»åŠ æ¬„ä½é™åˆ¶çš„æ–¹æ³•</h2><p>æƒ³è¦åœ¨tableå¢åŠ é€™äº›é™åˆ¶æœ‰å…©ç¨®æ–¹å¼ï¼Œ</p>
<ul>
<li>åœ¨å»ºç«‹æ™‚è¨­å®šé™åˆ¶</li>
<li>ä¿®æ”¹æ™‚å¢åŠ é™åˆ¶</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/09/04/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part07/" data-id="cmey1xg4q00000abo2lp47ht1" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part07" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part06" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/28/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part06/" class="article-date">
  <time class="dt-published" datetime="2025-08-28T08:45:31.000Z" itemprop="datePublished">2025-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/28/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part06/">è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part06</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å˜—è©¦è£½ä½œé€™æ¬¡ç³»çµ±è¨­è¨ˆæ–‡ä»¶"><a href="#å˜—è©¦è£½ä½œé€™æ¬¡ç³»çµ±è¨­è¨ˆæ–‡ä»¶" class="headerlink" title="å˜—è©¦è£½ä½œé€™æ¬¡ç³»çµ±è¨­è¨ˆæ–‡ä»¶"></a>å˜—è©¦è£½ä½œé€™æ¬¡ç³»çµ±è¨­è¨ˆæ–‡ä»¶</h2><p>å…¶å¯¦æˆ‘ä¹Ÿä¸ç¢ºå®šé€™ç®—æ˜¯å“ªä¸€ç¨®æ–‡ä»¶ï¼Œæˆ‘åªæ˜¯å…ˆæŠŠæƒ³çš„æ±è¥¿ä»¥åŠè©²æœ‰çš„æ±è¥¿åšä¸€æ¬¡æ•´ç†ï¼Œ</p>
<p>é€™æ¨£ä¹Ÿæ¯”è¼ƒå®¹æ˜“å‘ä»–äººå±•ç¤ºæˆ‘åœ¨åšä»€éº¼ï¼Œä¹Ÿæ–¹ä¾¿åšæ„è¦‹äº¤æµä»¥åŠç²å–å»ºè­°</p>
<p>é€™æ¬¡å°ˆæ¡ˆçš„ä¸»é¡Œå«åšâ€“å¥½æƒ³åšé‹å‹•</p>
<ol>
<li>ä¸»è¦åŠŸèƒ½</li>
</ol>
<ul>
<li>å¸³è™Ÿç™»å…¥</li>
<li>ä½¿ç”¨è€…è¨˜éŒ„é‹å‹•é …ç›®èˆ‡æ™‚é–“</li>
<li>ä¾å€é–“æŸ¥é–±ä½¿ç”¨è€…è¨˜éŒ„çš„å…§å®¹</li>
<li>æ–°å¢é‹å‹•é …ç›®èˆ‡æ¶ˆè€—çš„å¡è·¯é‡Œ</li>
</ul>
<ol start="2">
<li>é‹ç”¨åˆ°çš„Table</li>
</ol>
<ul>
<li><p>å¸³è™Ÿè¡¨ï¼ˆuserï¼‰<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>æ¬„ä½åç¨±            å‹åˆ¥            å‚™è¨»<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>user_id            VARCHAR(50)     PK (å¸³è™Ÿ)<br>password_hash      VARCHAR(255)    å¯†ç¢¼é›œæ¹Š<br>nickname           VARCHAR(50)     æš±ç¨±<br>status             VARCHAR(50)     ç‹€æ…‹ (active&#x2F;inactive&#x2F;locked)<br>last_login_at      DATETIME        ä¸Šæ¬¡ç™»å…¥æ™‚é–“<br>password_change_at DATETIME        ä¸Šæ¬¡æ›´æ”¹å¯†ç¢¼æ™‚é–“</p>
</li>
<li><p>é‹å‹•ç´€éŒ„è¡¨ï¼ˆexercise_recordï¼‰<br>exercise_record<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>æ¬„ä½åç¨±            å‹åˆ¥            å‚™è¨»<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>id                 INT(AI)         PK (æµæ°´è™Ÿ)</p>
</li>
</ul>
<p>user_id            VARCHAR(50)     ä½¿ç”¨è€…åç¨±<br>exercise_type      VARCHAR(100)    é‹å‹•é …ç›®<br>record_time        DATETIME        ç´€éŒ„æ™‚é–“<br>duration_minutes   DECIMAL(10,2)   é‹å‹•æŒçºŒæ™‚é–“(åˆ†é˜)<br>distance_km        DECIMAL(10,2)   è·é›¢(å…¬é‡Œ)<br>count              INT             æ¬¡æ•¸<br>calories           INT             æ¶ˆè€—å¡è·¯é‡Œ</p>
<ul>
<li>é‹å‹•é …ç›®è¡¨ï¼ˆexercise_typeï¼‰<br>exercise_type<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>æ¬„ä½åç¨±            å‹åˆ¥            å‚™è¨»<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>id                 INT(AI)         PK (æµæ°´è™Ÿ)</li>
</ul>
<p>name               VARCHAR(100)    é …ç›®åç¨± (e.g. è·‘æ­¥)<br>intensity          VARCHAR(100)    å¼·åº¦ (high&#x2F;medium&#x2F;low)<br>unit               VARCHAR(100)    å–®ä½ (time&#x2F;distance&#x2F;count)<br>calories_per_unit  DECIMAL(6,2)    å–®ä½æ¶ˆè€—å¡è·¯é‡Œ<br>description        TEXT            èªªæ˜<br>updated_by         VARCHAR(50)     ä¿®æ”¹è€…<br>created_at         DATETIME        å»ºç«‹æ™‚é–“<br>updated_at         DATETIME        ä¿®æ”¹æ™‚é–“</p>
<p><img src="/images/ERD_ver.init.png" alt="ERDåˆç‰ˆ-åœŸæ³•ç…‰é‹¼ç‰ˆ"></p>
<p>è³‡æ–™åº«çµæ§‹æ˜¯é€™å€‹å°ˆæ¡ˆå¾ˆé‡è¦çš„æ ¸å¿ƒéƒ¨åˆ†ï¼ŒåŸæœ¬å¾ŒçºŒé‚„æœ‰å…ˆå˜—è©¦è‘—å¯«APIæ–‡ä»¶<br>ä¸éç•¶æˆ‘æ‹¿é€™ä»½æ–‡ä»¶å»è·Ÿå…¶ä»–äººäº¤æµçš„æ™‚å€™ï¼Œç™¼ç¾å•é¡Œè »å¤šçš„APIæ–‡ä»¶çš„éƒ¨åˆ†è¦æ•´å€‹é‡å¯«</p>
<h2 id="ä¸è¦é–‰é–€é€ è»Šï¼Œå˜—è©¦èˆ‡äººäº¤æµè†è½ä¸åŒçš„æ„è¦‹"><a href="#ä¸è¦é–‰é–€é€ è»Šï¼Œå˜—è©¦èˆ‡äººäº¤æµè†è½ä¸åŒçš„æ„è¦‹" class="headerlink" title="ä¸è¦é–‰é–€é€ è»Šï¼Œå˜—è©¦èˆ‡äººäº¤æµè†è½ä¸åŒçš„æ„è¦‹"></a>ä¸è¦é–‰é–€é€ è»Šï¼Œå˜—è©¦èˆ‡äººäº¤æµè†è½ä¸åŒçš„æ„è¦‹</h2><p>å…¶å¯¦é€™ä¸Šé¢çš„çµæœé™¤äº†è‡ªå·±çš„æ€ç¶­ä¹‹å¤–ï¼Œé‚„é€éè·Ÿæ„›é†¬çš„è¨è«–<br>ä½†æ˜¯åœ¨æ¥­ç•Œå¯¦éš›é‹ç”¨ä¸Šï¼Œå°±æœ‰å¯èƒ½æœƒæœ‰ä¸€äº›çš„å‡ºå…¥<br>èˆ‡ä¸åŒäººè¨è«–å¯ä»¥å¾—åˆ°ä¸åŒçš„è§€é»èˆ‡æ”¶ç©«</p>
<h3 id="å¾—åˆ°çš„å»ºè­°"><a href="#å¾—åˆ°çš„å»ºè­°" class="headerlink" title="å¾—åˆ°çš„å»ºè­°"></a>å¾—åˆ°çš„å»ºè­°</h3><ul>
<li>userçš„tableä¹Ÿå»ºç«‹ä¸€å€‹noæµæ°´è™Ÿ</li>
<li>exercise_recordèˆ‡exercise_typeç›¸é—œè¯çš„é‹å‹•é …ç›®å»ºè­°æ”¹ç‚ºæµæ°´è™Ÿçš„id</li>
<li>exercise_recordçš„æ¬„ä½è¨­è¨ˆä¸å¤ ç›´è¦ºä¸”æœ‰ç°¡åŒ–çš„ç©ºé–“ï¼Œduration_minutesã€distance_kmã€countï¼Œå¯ä»¥ç°¡åŒ–æˆæ•¸é‡åŠå–®ä½</li>
<li>exercise_typeçš„nameèˆ‡intensityå¯ä»¥æ•´ä½µç‚ºä¸€å€‹</li>
</ul>
<p>é€™äº›å»ºè­°åæ˜ äº†å¯¦å‹™ç¶“é©—èˆ‡è³‡æ–™åº«è¨­è¨ˆçš„æœ€ä½³å¯¦è¸ï¼Œæ˜¯æˆ‘ç¨è‡ªç ”ç©¶ç„¡æ³•è¼•æ˜“è§¸åŠçš„éƒ¨åˆ†</p>
<p>user table åŠ æµæ°´è™Ÿï¼šç”¨è‡ªå¢ä¸»éµï¼ˆå¦‚ idï¼‰æœ‰åŠ©æ–¼è³‡æ–™é—œè¯ã€æ•ˆèƒ½å„ªåŒ–ï¼Œä¹Ÿæ–¹ä¾¿æœªä¾†æ“´å……ã€‚<br>exercise_record èˆ‡ exercise_type é—œè¯ç”¨ idï¼šç”¨ id åšé—œè¯æ¯”ç”¨åç¨±æ›´å®‰å…¨ï¼Œé¿å…åç¨±é‡è¤‡æˆ–ä¿®æ”¹é€ æˆè³‡æ–™éŒ¯èª¤ã€‚<br>æ¬„ä½ç°¡åŒ–ï¼šå°‡ duration_minutesã€distance_kmã€count åˆä½µæˆã€Œæ•¸é‡ï¼‹å–®ä½ã€èƒ½è®“è³‡æ–™çµæ§‹æ›´å½ˆæ€§ï¼Œæ–¹ä¾¿æ”¯æ´æ›´å¤šé‹å‹•é¡å‹ã€‚<br>name èˆ‡ intensity æ•´ä½µï¼šå¦‚æœå¼·åº¦æ˜¯é‹å‹•åç¨±çš„ä¸€éƒ¨åˆ†ï¼Œåˆä½µå¯ä»¥ç°¡åŒ–çµæ§‹ï¼Œä½†è¦è©•ä¼°æœªä¾†æ˜¯å¦æœƒç¨ç«‹æŸ¥è©¢å¼·åº¦ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–å‰è¼©å€‘ä¹Ÿçµ¦äºˆæˆ‘å¾ˆå¤šå¾Œç«¯æ¦‚å¿µä¸Šçš„å»ºè­°ï¼Œå°æ–¼å‰å¾Œæ®µåˆ†é›¢çš„å¯¦ä½œä¸Šå¯ä»¥å¥ å®šæ›´ç©©å›ºçš„åŸºç¤<br>åƒæ˜¯ç•¶ä¸€å€‹è¨ˆç®—å‰å¾Œç«¯éƒ½èƒ½åŸ·è¡Œçš„æ™‚å€™ï¼Œæœƒå»ºè­°çµ¦å‰ç«¯åŸ·è¡Œé‚„æ˜¯å¾Œç«¯åŸ·è¡Œ</p>
<ul>
<li>è·Ÿã€Œè³‡æ–™æ­£ç¢ºæ€§ &#x2F; å®‰å…¨æ€§ã€æœ‰é—œ â†’ ä¸€å¾‹æ”¾å¾Œç«¯</li>
<li>åªå½±éŸ¿ã€Œé«”é©— &#x2F; UIã€çš„å³æ™‚è¨ˆç®— â†’ æ”¾å‰ç«¯å³å¯</li>
<li>è¤‡é›œåº¦é«˜ã€æ•ˆèƒ½åƒé‡çš„ â†’ å¾Œç«¯æ›´åˆé©</li>
</ul>
<p>èˆ‡æœ‰ç¶“é©—çš„äººäº¤æµå¯ä»¥ç²å¾—ä¸å°‘è³‡è¨Šï¼Œé›–ç„¶æˆ‘åå‘Iäººï¼Œä½†æ˜¯æˆ‘é‚„æ˜¯è¦ºå¾—é€™éƒ¨åˆ†å¤šå¤šè·Ÿäººäº¤æµä¸æœƒæœ‰å£è™•ï¼Œä¸éä¹‹å‰å¯«çš„APIå…¨éƒ¨éƒ½è¦åšäº›ä¿®æ­£äº†</p>
<h2 id="æ–°å·¥å…·çš„å¾—çŸ¥èˆ‡æŒæ¡"><a href="#æ–°å·¥å…·çš„å¾—çŸ¥èˆ‡æŒæ¡" class="headerlink" title="æ–°å·¥å…·çš„å¾—çŸ¥èˆ‡æŒæ¡"></a>æ–°å·¥å…·çš„å¾—çŸ¥èˆ‡æŒæ¡</h2><p>èˆ‡äººè¨è«–çš„éç¨‹ä¸­æˆ‘ä¹Ÿå¾—çŸ¥äº†ä¸€å€‹æ–°å·¥å…·dbdiagram.ioï¼Œ<br>é€™å¯ä»¥å¹«ä½ ç”¢å‡ºERD</p>
<ul>
<li>é€édbdiagram.ioå·¥å…·ç”¢ç”ŸERD</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Table user &#123;</span><br><span class="line">  id int [primary key, increment]</span><br><span class="line">  user_id varchar(50)</span><br><span class="line">  password_hash varchar(255)</span><br><span class="line">  nickname varchar(50)</span><br><span class="line">  weight decimal(10,2)</span><br><span class="line">  status varchar(50)</span><br><span class="line">  last_login_at datetime</span><br><span class="line">  password_change_at datetime</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Table exercise_record &#123;</span><br><span class="line">  id int [primary key, increment]</span><br><span class="line">  user_id varchar(50) [ref: &gt; user.id]</span><br><span class="line">  exercise_type_id varchar(100) [ref: &gt; exercise_type.id]</span><br><span class="line">  record_time datetime</span><br><span class="line">  count int</span><br><span class="line">  unit varchar(100)</span><br><span class="line">  calories decimal(10,2)</span><br><span class="line">  updated_at datetime</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Table exercise_type &#123;</span><br><span class="line">  id int [primary key, increment]</span><br><span class="line">  name varchar(100)</span><br><span class="line">  weight_unit varchar(1)</span><br><span class="line">  calories_per_unit decimal(6,2)</span><br><span class="line">  description text</span><br><span class="line">  updated_by varchar(50)</span><br><span class="line">  created_at datetime</span><br><span class="line">  updated_at datetime</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><img src="/images/ERD_ver.01.png" alt="ERDä¿®æ”¹ç‰ˆ-dbdiagramç‰ˆ"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nikiweikame.github.io/2025/08/28/%E8%AB%8BAI%E5%8D%94%E5%8A%A9%E6%88%91%E9%96%8B%E7%99%BC-part06/" data-id="cmev5ubdp0000nhbo5ok38vjd" data-title="è«‹AIå”åŠ©æˆ‘é–‹ç™¼-part06" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; zurÃ¼ck</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Account-book/" rel="tag">Account book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/back-end/" rel="tag">back-end</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diary/" rel="tag">diary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/marry/" rel="tag">marry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/note/" rel="tag">note</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notes/" rel="tag">notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopping-cart/" rel="tag">shopping_cart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/start/" rel="tag">start</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 13.33px;">AI</a> <a href="/tags/Account-book/" style="font-size: 10px;">Account book</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/back-end/" style="font-size: 20px;">back-end</a> <a href="/tags/diary/" style="font-size: 16.67px;">diary</a> <a href="/tags/marry/" style="font-size: 10px;">marry</a> <a href="/tags/note/" style="font-size: 10px;">note</a> <a href="/tags/notes/" style="font-size: 10px;">notes</a> <a href="/tags/shopping-cart/" style="font-size: 10px;">shopping_cart</a> <a href="/tags/start/" style="font-size: 10px;">start</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">October 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">September 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/10/14/%E5%AD%B8%E7%BF%92%E8%B7%9F%E9%81%8A%E6%88%B2%E6%88%91%E4%B8%80%E5%80%8B%E9%83%BD%E4%B8%8D%E6%83%B3%E8%90%BD%E4%B8%8B%EF%BC%8C%E8%87%B3%E5%B0%91%E6%88%91%E7%8F%BE%E5%9C%A8%E9%82%84%E8%83%BD%E5%BE%9E%E9%81%8A%E6%88%B2%E4%B8%AD%E8%B3%BA%E9%8C%A2/">å­¸ç¿’è·ŸéŠæˆ²æˆ‘ä¸€å€‹éƒ½ä¸æƒ³è½ä¸‹ï¼Œè‡³å°‘æˆ‘ç¾åœ¨é‚„èƒ½å¾éŠæˆ²ä¸­è³ºéŒ¢</a>
          </li>
        
          <li>
            <a href="/2025/10/13/%E5%89%8D%E7%AB%AF%E9%A0%81%E9%9D%A2%E7%9A%84pinia%E7%AE%A1%E7%90%86/">å‰ç«¯é é¢çš„piniaç®¡ç†</a>
          </li>
        
          <li>
            <a href="/2025/10/13/%E9%9B%99%E5%8D%81%E9%80%A3%E5%81%87%E7%B5%90%E6%9D%9F%E4%BA%86/">é›™åé€£å‡çµæŸäº†</a>
          </li>
        
          <li>
            <a href="/2025/10/08/%E4%B8%AD%E7%A7%8B%E5%90%83%E5%AE%8C%E7%83%A4%E8%82%89%E8%A6%BA%E5%BE%97%E6%BB%BF%E8%B6%B3/">ä¸­ç§‹åƒå®Œçƒ¤è‚‰è¦ºå¾—æ»¿è¶³</a>
          </li>
        
          <li>
            <a href="/2025/10/04/%E8%BD%89%E7%99%BC-%E5%A9%9A%E5%89%8D15%E5%95%8F/">è½‰ç™¼ å©šå‰15å•</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Niki_wei<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>